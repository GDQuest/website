var Je=()=>{};var Jt={log:null,error:null,info:null,warn:null,assert:null,trace:null,table:null},Qt=Object.keys(Jt),Zt=Qt.reduce((e,t)=>(e[t]=Je,e),{}),ye=class{prefix;constructor(t){this.prefix=t}log(...t){console.log(...this.prefix,...t)}error(...t){console.error(...this.prefix,...t)}info(...t){console.info(...this.prefix,...t)}warn(...t){console.warn(...this.prefix,...t)}assert(t,...s){console.assert(t,...this.prefix,...s)}trace(...t){console.trace(...this.prefix,...t)}table(t,s){console.table(t,s)}},Qe=(e="")=>{let s=((!e&&globalThis&&globalThis.location?new URLSearchParams(globalThis.location.search):new URLSearchParams(e)).get("debug")||"*").split(",").filter(Boolean).reduce((n,r)=>(n.add(r.trim()),n),new Set),o=s.has("*");return function(r,i="#5b5bdf"){return o||s.has(r)?new ye([`%c[${r}]`,`color:${i};`]):Zt}};var es=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable","async","defer","popover"],ts=new Set(es),Ze=e=>ts.has(e);var ae=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,s)=>(s?"-":"")+t.toLowerCase());var ss={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},me={escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g},et=e=>ss[e];function te(e,t){if(t){if(me.escapeTest.test(e))return e.replace(me.escapeReplace,et)}else if(me.escapeTestNoEncode.test(e))return e.replace(me.escapeReplaceNoEncode,et);return e}var tt=Object.getPrototypeOf,os=tt({}),st=e=>typeof e=="object"&&tt(e)===os;var Ee=(e,...t)=>{let s=document.createElement(e),[o,...n]=st(t[0]||t[0]==null)?t:[null,...t];return o&&Object.entries(o).forEach(([r,i])=>{if(typeof i=="function"){let l=i;if(r.startsWith("on")){let c=l,a=r.slice(2).toLowerCase();s.addEventListener(a,c)}else l(s,r)}else if(r.startsWith("aria")){let l="aria-"+ae(r.slice(4));s.setAttribute(l,i+"")}else if(r.startsWith("data")){if(i===null)return;let l="data-"+ae(r.slice(4));s.setAttribute(l,i+"")}else{if(r==="acceptCharset")return`accept-charset="${te(i+"")}"`;if(r==="colorScheme")return`color-scheme="${te(i+"")}"`;if(r==="themeColor")return`theme-color="${te(i+"")}"`;if(r==="httpEquiv")return`http-equiv="${te(i+"")}"`;if(r==="className"||r==="class"){let l=i;if(l==null||l===!1)return;if(Array.isArray(l)){let c=l.flat(1/0).filter(Boolean);s.classList.add(...c)}else{if(l.includes(" "))throw new Error("Invalid class name: "+i);s.classList.add(i+"")}}else if(r==="props")Object.entries(i).forEach(([c,a])=>{s[c]=a});else{if(i===!1&&Ze(r))return;if(r==="style"){if(i==null||i===!1)return;if(typeof i=="string")s.setAttribute("style",te(i));else return Object.entries(i).forEach(([c,a])=>s.style.setProperty(c,a+""))}else{if(i===null)return;s.setAttribute(r,i+"")}}}}),n&&n.forEach(r=>{if(!(r==null||r===!1)){if(Array.isArray(r)){s.append(Ee(...r));return}if(typeof r=="string"){s.innerHTML=r;return}if(typeof r=="number"||typeof r=="boolean"){s.innerHTML=r.toLocaleString();return}if(typeof r=="function"){s.innerHTML=r(document.createTextNode(""),"textContent");return}if(typeof r=="object"){if("rawHTML"in r&&"escape"in r&&r.escape===!0){s.append(document.createTextNode(r.rawHTML+""));return}else if("nodeType"in r){s.append(r);return}console.log("Unexpected object type:",r)}s.innerHTML=r.toString()}}),s};var ot=(e,t,s)=>(o,...n)=>e(t,s!=null?{...s,...o}:o,...n);var rt=(e,t)=>{let s=new Map;return new Proxy(e,{get(o,n){let r=n.toString();if(t&&r in t)return t[r];if(s.has(r))return s.get(r);if(typeof r=="string"){let i=ae(r);if(!rs(i))return;let l=ot(e,i);return s.set(r,l),l}}})},rs=e=>typeof document<"u"?document.createElement(e)instanceof HTMLElement:/^[a-z][a-z0-9-]*$/i.test(e);var ns=(e,...t)=>{t.flat(1/0).forEach(s=>{s==null||s===!1||e.append(s)})},as=e=>{for(;e.firstChild;)e.firstChild.remove()},is=(e,...t)=>e.replaceChildren(...t.flat(1/0)),ls=e=>({rawHTML:e,escape:!0}),I=rt(Ee,{add:ns,clear:as,replace:is,escape:ls});var U=(e,t=250)=>{let s;return()=>{clearTimeout(s),s=setTimeout(()=>{e()},t)}};var q=(e,t=0)=>Math.floor(Math.random()*(e-t+1))+t;var cs=/^(?:(?<protocol>\w+):\/)?\/*(?<dir>.+\/)?(?<filename>(?<basename>.+?)(?:\.(?<extension>\w+))?)$/,ds=e=>{if(e==null)return"directory";switch(e.toLowerCase()){case"gd":return"gdscript";case"tscn":return"scene";case"png":case"jpg":case"gif":return"image";case"ini":case"text":case"yaml":case"txt":return"text";default:return"file"}},us={protocol:"",dir:"",filename:"",basename:"",extension:""},Le=e=>{e=e.replace(/^\/+/,"");let{protocol:t,dir:s,filename:o,basename:n,extension:r}=e.match(cs)?.groups??us,i=s!=null?s.replace(/\/+$/,"").split("/"):[],l=typeof t>"u",c=t??"res",a=[s,o].filter(Boolean),d=[c,...i,o].filter(Boolean),u=ds(r);return{href:d,fullPath:a,dirname:i,filename:o,protocol:c,basename:n,extension:r,fileType:u,incomplete:l}};var Ce=Symbol("SKIP"),zo=Symbol("CANCEL"),Te=Symbol("ABORT"),Ko=Symbol("NONE");var fe=e=>e;var N=(e,{transform:t=fe}={})=>{let s=new Set,l={on:c=>(s.add(c),l),off:c=>(s.delete(c),l),set:(c,a=!1)=>{let d=t(c,e,Ce);if(d===Ce||!a&&d===e)return l;let u=e;return e=d,s.forEach(m=>m(e,u)),l},get:()=>e};return l};var nt=(e,{transform:t=fe}={})=>{let s=N(e,{transform:t}),o=new Set,n=new Set,r=new Set;return{...s,setItem:(f,L)=>{let S=s.get(),w={...S,[f]:L};if(s.set(w),!(f in S))o.forEach(C=>C(f,L));else{if(S[f]===L)return;r.forEach(C=>C(f,L,S[f]))}},getItem:f=>s.get()[f],hasItem:f=>f in s.get(),removeItem:f=>{let L=s.get();if(!(f in L))return;let{[f]:S,...w}=L;n.forEach(C=>C(f,L[f])),s.set(w)},onKeyAdded:f=>o.add(f),offKeyAdded:f=>o.delete(f),onKeyRemoved:f=>n.add(f),offKeyRemoved:f=>n.delete(f),onKeyChanged:f=>r.add(f),offKeyChanged:f=>r.delete(f)}};var at=(e,t)=>{let s=JSON.parse(localStorage.getItem(t)||JSON.stringify(e.get()));return e.set(s),e.on(o=>localStorage.setItem(t,JSON.stringify(o))),e};var ms="success",fs="error",ps="info",hs="warning",gs=()=>{let e=at(nt({}),"__userMessages"),t=(a,d,u)=>(u=u||"usermessage-"+a+"-"+Math.random().toString(36).slice(2),e.setItem(u,{message:d,type:a}),u);return{add:t,addSuccess:a=>t(ms,a),addError:a=>t(fs,a),addInfo:a=>t(ps,a),addWarning:a=>t(hs,a),remove:a=>e.removeItem(a),get:a=>e.getItem(a),entries:()=>Object.entries(e.get()),onMessageAdded:e.onKeyAdded,onMessageRemoved:e.onKeyRemoved,offMessageAdded:e.offKeyAdded,offMessageRemoved:e.offKeyRemoved}},xe=null,se=()=>(xe||(xe=gs()),xe);var ve=e=>(e instanceof FormData?Array.from(e.entries()):Object.entries(e)).map(([t,s])=>Array.isArray(s)?s.map(o=>`${t}=${encodeURIComponent(o)}`).join("&"):typeof s=="string"||typeof s=="number"?`${t}=${encodeURIComponent(s)}`:typeof s=="boolean"?`${t}=${s?"true":"false"}`:`${t}=${encodeURIComponent(JSON.stringify(s))}`).join("&");var it=e=>{let t=e.elements.length;for(;t--;){let s=e.elements[t];"disabled"in s&&(s.disabled=!0)}},we=e=>{let t=e.elements.length;for(;t--;){let s=e.elements[t];"disabled"in s&&(s.disabled=!1)}};var lt=e=>t=>{t.preventDefault(),t.stopPropagation();let s=t.target,o=s.getAttribute("action")||"",n=s.getAttribute("name")||"",r=s.getAttribute("enctype")||"",i=(s.getAttribute("method")||"").toUpperCase(),l=s.getAttribute("target")||"",c=new FormData(s);e({name:n,action:o,method:i,values:c,enctype:r,target:l},s)};var bs=(e,t)=>{switch(e==="AUTO"&&(e=t.method||"GET"),e){case"JSON":{let n=JSON.stringify(t.values);return fetch(t.action,{method:t.method,body:n,headers:{"Content-Type":"application/json",Accept:"application/json"}})}case"GET":{let n=t.values?ve(t.values):"",r=`${t.action}${n?"?"+n:""}`;return fetch(r,{method:t.method,headers:{Accept:"application/json"}})}}let s=t.enctype&&t.enctype==="multipart/form-data"?"multipart/form-data":"application/x-www-form-urlencoded",o=t.values?s==="multipart/form-data"?t.values:ve(t.values):"";return fetch(t.action,{method:t.method,body:o,headers:{"Content-Type":s,Accept:"application/json"}})},ct={method:"AUTO",classBusy:"busy",doDisableForm:!0,doReEnableForm:!0},Ie=(e=ct)=>{let{method:t,classBusy:s,doDisableForm:o,doReEnableForm:n,callback:r}={...ct,...e};return lt((l,c)=>{let a=bs(t,l);return o&&it(c),s&&c.classList.add(s),r!=null&&a.then(d=>r(null,d)).catch(d=>r(d,null)),a.finally(()=>{n===!0?we(c):typeof n=="number"&&setTimeout(()=>we(c),n),s&&c.classList.remove(s)}),a})};var dt=new Set;function y(e,t,s){let{className:o,root:n=document,onError:r}=s||{},i=o||`js-processed-${t.name?t.name:e.replaceAll(/[^a-zA-Z0-9]/g,"-")}`,l=1;for(;dt.has(i)&&l<1e3;)i=i+l++;dt.add(i);let c=n.querySelectorAll(e);!c||!c.length||c.forEach(a=>{if(!a.classList.contains(i))if(a.classList.add("isJSProcessed",i),r)try{t(a)}catch(d){if(r(d,Te)===Te)return}else t(a)})}var Re=(e,t=150,s)=>{let o=-1,n=s??globalThis,r=()=>{clearTimeout(o),o=setTimeout(()=>{e(),n.removeEventListener("scroll",r)},t)};n.addEventListener("scroll",r,{passive:!0})};var oe=e=>e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/");var ut=(e="https://api.gdquest.com/1")=>({claps:{async add(t,s){return await(await fetch(`${e}/claps/add/${t}/${oe(s)}`)).json()},async get(t){let o=await(await fetch(`${e}/claps/get/${oe(t)}`)).json();if(typeof o!="number")throw"message"in o&&o.message?new Error(o.message):new Error("Invalid response from claps API "+JSON.stringify(o));return o}},newsletter:{async subscribe(t,s){let o=new FormData;return o.append("email",t),o.append("name",s),o.append("json","true"),await(await fetch(`${e}/newsletter`,{method:"POST",body:o})).json()}}});var mt={API_URL:"https://api.gdquest.com/1"};Object.entries(mt).forEach(([e,t])=>{if(!t)throw new Error(`\`${e}\` is not defined`)});var{API_URL:ft}=mt;var _e=(e,t)=>{let s=t.getBoundingClientRect(),o=e.getBoundingClientRect();return{top:o.top-s.top,left:o.left-s.left,right:o.right-s.left,bottom:o.bottom-s.top,width:o.width,height:o.height,parentHeight:s.height,parentWidth:s.width}};var pt=e=>e.bottom>0&&e.bottom<e.parentHeight;var Ne=(e,t)=>{let s=_e(e,t);return pt(s)?!1:(s.top<0?t.scrollTop+=s.top:t.scrollTop+=s.top-s.parentHeight+s.height,!0)};var X=(e,t,s)=>(s(t,e.get()),e.on(o=>{s(t,o)}),t);var pe=e=>t=>new Promise(s=>setTimeout(()=>s(t),e));var Pe=class extends Error{constructor(t){super(`Unreachable case: ${JSON.stringify(t)}`)}},ht=e=>{throw new Pe(e)};var gt=e=>{if(e instanceof Error)return e;if(typeof e=="string")return new Error(e);if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{return new Error("An error occurred, but it could not be serialized")}return new Error("An unknown error occurred")};var J=e=>{let t=N(e?{data:e,error:null,success:!0,status:"success"}:{data:null,error:null,success:!1,status:"none"}),r={...t,load:i=>{let l=t.get().status;if(l!=="none"){switch(l){case"loading":console.warn("Already loading data, ignoring new request.");break;case"success":case"error":console.warn("Data already loaded, ignoring new request.");break;default:ht(l)}return}t.set({data:null,error:null,success:!1,status:"loading"}),fetch(i).then(c=>{if(!c.ok)throw new Error(`Failed to fetch ${i}`);return c.json()}).then(c=>{t.set({data:c,error:null,success:!0,status:"success"})}).catch(c=>{t.set({data:null,error:gt(c),success:!1,status:"error"})})},reset:()=>(t.set({data:null,error:null,success:!1,status:"none"}),r),data:()=>t.get().data};return r};var De=([...e])=>{let t=e.length;for(;t;){let s=Math.floor(Math.random()*t--);[e[t],e[s]]=[e[s],e[t]]}return e};function $e(e,{single:t=!1,joinArrayChar:s=" "}={}){e=e instanceof URLSearchParams?e:new URLSearchParams(e);let o={};if(e.forEach((n,r)=>{o[r]=o[r]||[],o[r].push(n)}),t){let n={};for(let r in o)n[r]=s?o[r].join(s):o[r][0];return n}return o}var Oe=(e,t)=>t.reduce((s,o)=>(o in e&&(s[o]=e[o]),s),{});function D(e,t){let s=t?.parent===null?null:t?.parent??document,o=s===null?null:s.querySelector(e);return o===null&&(t?.onNotFound?t.onNotFound(e,s):t?.onNotFound!==!1&&console.warn(`Element not found: \`${e}\` in`,s)),o}function K(e,t){let s=t?.parent===null?null:t?.parent??document,o=s===null?[]:s.querySelectorAll(e);return o.length===0?(t?.onNotFound?t.onNotFound(e,s):t?.onNotFound!==!1&&console.warn(`Didn't find any element for selector \`${e}\` in`,s),null):Array.from(o)}var bt=e=>e!=null;var Q=(...e)=>e.every(bt)?e:null;var G=class extends Error{data;constructor(t,s){super(s),this.data=t,this.name="DataBearingError"}};var Be=()=>globalThis.matchMedia("(prefers-reduced-motion: reduce)")!=null&&globalThis.matchMedia("(prefers-reduced-motion: reduce)").matches===!0;var St=Qe(),Me=ut(ft);var{button:En}=I,ke=class extends Event{isShown;controls;isHidden;constructor(t,s,o){super("toggler-toggleshow",o),this.isShown=t,this.controls=s,this.controls=s,this.isHidden=!t}};function Ss(){let e=this.getAttribute("aria-expanded")==="true";this.setAttribute("aria-expanded",e?"false":"true");let t=this.getAttribute("aria-controls"),s=t?document.getElementById(t):null;if(!s)return;let o=this.dataset.toggledClass;if(o){e?s.classList.remove(o):s.classList.add(o);let r=new ke(!e,s);this.dispatchEvent(r)}let n=this.dataset.bodyClass;n&&(e?document.body.classList.remove(n):document.body.classList.add(n))}var As=e=>{!e||e.tagName!=="BUTTON"||(e.dataset.toggledClass||(e.dataset.toggledClass="isToggled"),e.addEventListener("click",Ss),e.dataset.startExpanded!=null&&e.dataset.startExpanded!==e.getAttribute("aria-expanded")&&e.click())};y("button[data-is='toggler-button']",As);var ys=".betaMention";y(ys,e=>{let t=e.querySelector("button"),s=e.querySelector("p");t&&s&&t.addEventListener("click",()=>{e.classList.toggle("closed"),localStorage.setItem("betaMentionClosed",e.classList.contains("closed")?"true":"false")}),localStorage.getItem("betaMentionClosed")==="true"&&e.classList.add("closed")});var At=8e3;function Es(e){e?(this.setAttribute("aria-current","true"),this.setAttribute("aria-disabled","true"),this.setAttribute("disabled","true")):(this.removeAttribute("aria-current"),this.removeAttribute("aria-disabled"),this.removeAttribute("disabled"))}y("carousel-wrapper",e=>{let t=Q(D(".controls",{parent:e}),K("button",{parent:D(".navigation",{parent:e})}),D(".slidesList"),D("live-region",{parent:e}));if(t===null){console.error("Carousel: Missing control elements");return}let[s,o,n,r]=t,i=Q(D("button.previous",{parent:s}),D("button.next",{parent:s}),D("input[type='checkbox']",{parent:s}),D("label",{parent:s}),K("li",{parent:n}));if(i===null){console.error("Carousel: Missing play control elements");return}let l=o.map(S=>{S.setCurrent=Es;let w=parseInt(S.dataset.for||"",10);return isNaN(w)?(console.warn("Carousel: Missing target slide for button",S),S):(S.addEventListener("click",()=>{p.updateSlider(w),g||f()}),S)}),[c,a,d,u,m]=i,p=(()=>{let S=Math.ceil(n.scrollLeft/n.offsetWidth)%m.length,w=()=>x((S+1)%m.length),C=()=>x((S-1+m.length)%m.length),x=R=>{R!==S&&(l.forEach((P,O)=>P.setCurrent(O===R)),S=R,n.scrollLeft=n.offsetWidth*S,r&&(r.textContent=`Item ${S+1} of ${m.length}`))};return{nextSlide:w,prevSlide:C,updateSlider:x,get currentSlide(){return S}}})(),h=null,g=!1,f=()=>{clearInterval(h),!g&&(h=setInterval(p.nextSlide,At),e.style.setProperty("--timer-animation-name","none"),e.style.setProperty("--timer-time",`${At}ms`),e.offsetWidth,e.style.setProperty("--timer-animation-name","carouselProgressAnimation"),d&&(d.checked=!1))},L=()=>{e.style.setProperty("--timer-time","0ms"),e.style.setProperty("--timer-animation-name","none"),clearInterval(h),h=null,d&&(d.checked=!0)};c.addEventListener("click",()=>{p.prevSlide(),g||f()}),a.addEventListener("click",()=>{p.nextSlide(),g||f()}),n.addEventListener("scroll",U(()=>{let S=Math.round(n.scrollLeft/n.offsetWidth);S!==p.currentSlide&&(p.updateSlider(S),g||f())},100)),Be()?(u.remove(),d.remove()):(d.addEventListener("change",()=>{g?(g=!1,f()):(g=!0,L())}),f(),d&&(d.checked=!1))});var B="clapsGame",{button:Fe,span:ie,div:le,add:yt,h4:Ls}=I;function Cs(e){let t=0,s=0,o=0,n=0;(e.querySelector("[data-is-draghandle]")||e).addEventListener("mousedown",i);function i(a){a.preventDefault(),o=a.clientX,n=a.clientY,document.onmouseup=c,document.onmousemove=l}function l(a){a.preventDefault(),t=o-a.clientX,s=n-a.clientY,o=a.clientX,n=a.clientY,e.style.top=e.offsetTop-s+"px",e.style.left=e.offsetLeft-t+"px"}function c(){document.onmouseup=null,document.onmousemove=null}return e}var Ts=()=>{let e=N(0),t=N(0),s=N(0),o=N(!1),n=[{name:"Cursors",description:"clicks once per second",cost:20,className:"cursor",signal:t},{name:"Strength",description:"Each click gives you more claps",cost:100,className:"strength",signal:s}],r=X(e,Fe({class:`${B}ClapsButton`,onclick:()=>{e.set(e.get()+1),r.setAttribute("aria-pressed","true"),setTimeout(()=>{r.removeAttribute("aria-pressed")},500)}},X(e,ie(),(c,a)=>{c.textContent=`${a}`})),c=>{c.append(qe())}),i=c=>pe(c)().then(()=>r.click()),l=c=>{let a=ie({class:`${B}MainClicker`,style:{"--index":c}});return setInterval(()=>{a.style.setProperty("--offset","0"),pe(200)().then(()=>{let d=1+s.get(),u=[];for(let m=0;m<d;m++){let p=q(100,50);u.push(()=>i(p))}u.reduce((m,p)=>m.then(p),Promise.resolve()).then(()=>{a.style.removeProperty("--offset")})})},3e3*(1+c)),a};return yt(document.body,X(o,Cs(le({class:`${B}Panel`},Ls({class:`${B}Title`,dataIsDraghandle:!0},"Claps Clicker"),le({class:`${B}Body`},le({class:`${B}Main`},X(t,le({class:`${B}MainClickersContainer`}),(c,a)=>{let d=c.querySelectorAll(`.${B}MainClicker`).length||0;for(let u=d;u<a;u++)yt(c,l(u));c.style.setProperty("--clickers",a.toString())}),r),le({class:`${B}UpgradesContainer`},...n.map(({name:c,description:a,cost:d,className:u,signal:m})=>X(e,Fe({class:[`${B}Upgrade`,`${B}Upgrade-${u}`],title:a},ie({class:`${B}UpgradeName`},c),ie({class:`${B}UpgradeCost`},d)),(p,h)=>{p.disabled=h<d,p.onclick=()=>{e.set(h-d),m.set(m.get()+1)}})))),Fe({class:`${B}CloseButton`,onclick:()=>{o.set(!1)}},ie("close panel")))),(c,a)=>{a?c.style.removeProperty("display"):c.style.setProperty("display","none")})),o},Ue=null,Et=()=>{Ue||(Ue=Ts()),Ue.set(!0)};var Lt=oe(new URL(globalThis.location.href).pathname),qe=()=>{let e=q(360)+"deg",t=document.createElement("span");t.dataset.is="confetti",t.addEventListener("animationend",()=>t.remove()),t.style.transform=`rotate(${e})`;let s=q(10,5);for(t.classList.add(`has-${s+1}`);s-->=0;){let o=document.createElement("span");o.style.setProperty("--angle",q(25)+"deg"),o.style.setProperty("--destination",q(55,5)+"px"),t.appendChild(o)}return t},xs=()=>Me.claps.get(Lt).then(e=>e).catch(e=>(console.error(e),q(2e3,3e3)));xs().then(e=>{let t=new Set,s=a(e),o=20,n=N(e),r=N(0);r.on(d=>{d>o&&Et()});let i=(d,u)=>([m,p,h])=>{m.textContent=`${d}`,p.textContent=u,h.textContent=r.get()>0?`+${r.get()}`:""},l=d=>{let u=a(d);t.forEach(i(d,u))};function c(){this.setAttribute("aria-pressed","true"),r.set(r.get()+1),n.set(n.get()+1),this.label.appendChild(qe())}function a(d=0){return d.toLocaleString("en-US",{maximumFractionDigits:2,notation:"compact",compactDisplay:"short"})}y("button.clapsButton",d=>{let u=d.querySelector(".clapsButtonAmountTotal"),m=d.querySelector(".clapsButtonAmountAbbreviated"),p=d.querySelector(".clapsButtonBubble"),h=d.querySelector(".clapsButtonLabel");if(!u||!m||!p||!h)return;m.removeAttribute("hidden");let g=[u,m,p];t.add(g),i(e,s)(g),d.addEventListener("animationend",f=>{f.animationName==="clapTotal"&&d.setAttribute("aria-pressed","false")}),d.label=h,d.addEventListener("click",c)}),r.on(U(()=>{Me.claps.add(r.get(),Lt)},1e3)),n.on(l)});var{add:Ct,span:Z,wbr:vs}=I,V="fileInText",je=e=>{let t=e.textContent;if(t==null||t===""){e.remove();return}let s=e.dataset.fileOnly==="true",o=Le(t),n=e;if(s){let r=Z({class:`${V}Label`},o.filename);e.textContent="",n=Z({class:`${V}Tooltip`}),Ct(e,r,n)}n.textContent="",e.classList.add(`${V}-${o.fileType}`),Ct(n,Z({class:`${V}Protocol`},o.protocol),Z({class:`${V}Slash`},"://"),o.dirname.length>0?o.dirname.map(r=>[Z({class:`${V}Directory`},r),Z({class:`${V}Slash`},"/"),vs()]):void 0,o.filename&&Z({class:`${V}File`},o.filename))};document.querySelectorAll('[data-is="file-in-text"]').forEach(je);document.querySelectorAll(".codeBlockFileName").forEach(je);var{add:ws,button:Is}=I;function Rs(){this.getAttribute("aria-expanded")!=="true"?(this.setAttribute("aria-expanded","true"),this.content.removeAttribute("aria-hidden"),this.caption.removeAttribute("data-closed")):(this.setAttribute("aria-expanded","false"),this.content.setAttribute("aria-hidden","true"),this.caption.setAttribute("data-closed",""))}var Ge=(e,t)=>{if(!t||!e)return;let s=t.id||`collapsible-${Math.random().toString(36).slice(2)}`;t.id||(t.id=s);let o=e.hasAttribute("data-open")&&e.getAttribute("data-open")==="true",n=Object.assign(Is({class:"collapsibleRevealButton",ariaExpanded:o?"true":"false",ariaControls:s,ariaLabel:"Toggle content",onclick:Rs,type:"button"},...Array.from(e.childNodes)),{content:t,caption:e});return o||(t.setAttribute("aria-hidden","true"),e.setAttribute("data-closed","")),n};y("[data-is-disclosure",e=>{let t=e.querySelector(".disclosureSummary"),s=e.querySelector(".disclosureDetails");if(!t||!s)return;let o=Ge(t,s);o&&ws(t,o)});var{add:_s}=I,Ns=e=>{e.querySelectorAll("dt").forEach(s=>{let o=s.nextElementSibling,n=Ge(s,o);n&&(s.textContent="",_s(s,n))})};y('[data-is="collapsible-list"]',Ns);var v={QUERY_EXACT:450,QUERY_PREFIX:325,QUERY_SUBSTRING:200,TITLE_PREFIX:100,TITLE_WORD:50,TITLE_SUBSTRING:12,KEYWORD_EXACT:50,KEYWORD_PARTIAL:20,TAG_EXACT:25,TAG_PARTIAL:10,CATEGORY_MATCH:10,FUZZY_BASE_SCORE:12},It=4,Rt=.25,Ps=2,Ds=48,$s=6,W=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ge=e=>W(e).split(/[^a-z0-9]+/).filter(Boolean),Ye=e=>Array.from(new Set(e)),He=e=>Ye(e.map(W)),Tt=e=>Ye(e.flatMap(t=>[t,...ge(t)])),Os=e=>e.replace(/[_-]+/g," ").replace(/\s+/g," ").trim(),Bs=e=>{let t=Os(e);if(!t)return"";let s=t.toLowerCase();return s.charAt(0).toUpperCase()+s.slice(1)},Ms=1,he=e=>{let t=new Set,s=`  ${e} `;for(let o=0;o<s.length-2;o+=1)t.add(s.slice(o,o+3));return t},ks=e=>{let t=W(e.title),s=ge(e.title),o=He(e.search),n=Tt(o),r=He(e.subject_tags),i=Tt(r),l=He([e.entry_type,...e.format,...e.tool_version,...e.game_space,...e.game_genre]),c={entry_type:e.entry_type,format:e.format,tool_version:e.tool_version,game_space:e.game_space,game_genre:e.game_genre,subject_tags:e.subject_tags},a=e.archived??!1,d=[t,...o,...r,...l],m=Ye([...s,...n,...i,...l]).map(p=>({value:p,trigrams:he(p)}));return{item:e,title:t,titleTokens:s,keywords:o,keywordTokens:n,tags:r,tagTokens:i,categories:l,filterableFields:c,isArchived:a,allPhraseValues:d,allTokensWithTrigrams:m}},Fs=e=>{let t=new Map,s=o=>{if(!o)return;let n=Bs(o);if(!n)return;let r=n.split(/\s+/).length;if(n.length>Ds||r>$s)return;let i=W(n);i.length<Ps||t.has(i)||t.set(i,n)};for(let o of e){let n=o.item;n.search.forEach(s),n.subject_tags.forEach(s),s(n.entry_type),n.format.forEach(s),n.tool_version.forEach(s),n.game_space.forEach(s),n.game_genre.forEach(s)}return Array.from(t.entries()).sort(([,o],[,n])=>o.localeCompare(n))},Us={entry_type:"entry_type",format:"format",tool_version:"tool_version",game_space:"game_space",game_genre:"game_genre",subject_tag:"subject_tags",subject_tags:"subject_tags"},xt=(e,t)=>{for(let[s,o]of Object.entries(t)){if(o.size===0)continue;let n=Us[s];if(!n)continue;let r=e.filterableFields[n],i=!1;if(Array.isArray(r)?i=r.some(l=>o.has(l)):typeof r=="string"&&(i=o.has(r)),!i)return!1}return!0},vt=e=>!!e&&Object.values(e).some(t=>t.size>0),wt=(e,t)=>{let s=e.item.tool_version.includes("godot_4"),o=t.item.tool_version.includes("godot_4");return s&&!o?-1:!s&&o?1:t.score===e.score?e.item.title.localeCompare(t.item.title):t.score-e.score},qs=(e,t)=>e.item.title.localeCompare(t.item.title),_t=(e,t,s=Rt)=>{let o=0;for(let i of e)t.has(i)&&(o+=1);let n=e.size+t.size-o;if(n===0)return null;let r=o/n;return r>=s?r:null},js=(e,t)=>{if(!t)return 0;let s=0;for(let o of e.allPhraseValues)if(o){if(o===t)return v.QUERY_EXACT;o.startsWith(t)?v.QUERY_PREFIX>s&&(s=v.QUERY_PREFIX):o.includes(t)&&v.QUERY_SUBSTRING>s&&(s=v.QUERY_SUBSTRING)}return s},Gs=(e,t,s)=>{let o=0;if(e.title.startsWith(t)?o=v.TITLE_PREFIX:e.titleTokens.some(n=>n.startsWith(t))?o=v.TITLE_WORD:e.title.includes(t)&&(o=v.TITLE_SUBSTRING),e.tags.includes(t))v.TAG_EXACT>o&&(o=v.TAG_EXACT);else if(e.tagTokens.some(n=>n.startsWith(t)))v.TAG_PARTIAL>o&&(o=v.TAG_PARTIAL);else if(e.tagTokens.some(n=>n.includes(t))){let n=v.TAG_PARTIAL-20;n>o&&(o=n)}if(e.keywords.includes(t))v.KEYWORD_EXACT>o&&(o=v.KEYWORD_EXACT);else if(e.keywordTokens.some(n=>n.startsWith(t)))v.KEYWORD_PARTIAL>o&&(o=v.KEYWORD_PARTIAL);else if(e.keywordTokens.some(n=>n.includes(t))){let n=v.KEYWORD_PARTIAL-20;n>o&&(o=n)}if(e.categories.includes(t)?v.CATEGORY_MATCH>o&&(o=v.CATEGORY_MATCH):e.categories.some(n=>n.includes(t))&&v.CATEGORY_MATCH>o&&(o=v.CATEGORY_MATCH),o===0){let n=t.length>=5?Rt:.5;for(let r of e.allTokensWithTrigrams){let i=_t(r.trigrams,s,n);if(i==null)continue;let l=(i-n)/(1-n),c=Math.floor(v.FUZZY_BASE_SCORE*(.5+l*.5));c>o&&(o=c)}}return o},Hs=(e,t,s,o)=>{let n=js(e,o);for(let r=0;r<t.length;r++){let i=Gs(e,t[r],s[r]);if(i===0)return null;n+=i}return n===0?null:n},Nt=e=>{let t=e.map(ks),s=Fs(t),o=(i={})=>{let l=i.filters;if(!vt(l)||!l)return[];let c=[];for(let a of t)xt(a,l)&&c.push({item:a.item,score:Ms});return c.sort(qs),typeof i.limit=="number"&&i.limit>0?c.slice(0,i.limit):c};return{search:(i,l={})=>{let c=i.trim(),a=l.filters,d=vt(a);if(!c)return d?o(l):[];let u=W(c);if(!u)return d?o(l):[];let m=ge(c);if(m.length===0)return d?o(l):[];let p=m.map(he),h=l.minScore??It,g=[],f=[];for(let S of t){if(d&&a&&!xt(S,a))continue;let w=Hs(S,m,p,u);if(w!=null&&w>=h){let C={item:S.item,score:w};S.isArchived?f.push(C):g.push(C)}}g.sort(wt),f.sort(wt);let L=[...g,...f];return typeof l.limit=="number"&&l.limit>0?L.slice(0,l.limit):L},filter:o,suggest:(i,l=6)=>{if(l<=0)return[];let c=i.trim();if(!c)return[];let a=W(c);if(!a)return[];let d=[],u=[];for(let[m,p]of s)if(m.startsWith(a)?d.push(p):m.includes(a)&&u.push(p),d.length>=l)break;if(d.length<l){for(let m of u)if(d.push(m),d.length>=l)break}return d.slice(0,l)},total:t.length}},Ys=e=>({slug:e.slug,terms:e.terms.map(t=>({raw:t,normalized:W(t),tokens:ge(t)}))}),Pt=e=>{let t=e.map(Ys);return{search:(o,n={})=>{let r=o.trim();if(!r)return[];let i=W(r),l=he(i),c=n.minScore??It,a=[];for(let d of t){let u=0;for(let m of d.terms){if(m.normalized.startsWith(i)){u=v.TAG_EXACT;break}if(m.tokens.some(p=>p.startsWith(i)))u=Math.max(u,v.TAG_PARTIAL);else if(m.normalized.includes(i))u=Math.max(u,v.KEYWORD_PARTIAL);else{let p=he(m.normalized),h=_t(p,l);if(h!=null){let g=Math.floor(v.FUZZY_BASE_SCORE*h);u=Math.max(u,g)}}}u>=c&&a.push({slug:d.slug,terms:d.terms.map(m=>m.raw),score:u})}return a.sort((d,u)=>u.score===d.score?d.slug.localeCompare(u.slug):u.score-d.score),typeof n.limit=="number"&&n.limit>0?a.slice(0,n.limit):a},total:t.length}};var zs="glossarySearch",ze="glossaryList";function Ke(e){e?(this.classList.add("disabled"),this.setAttribute("aria-disabled","true"),this.setAttribute("hidden","true"),this.setAttribute("tabindex","-1"),this.dataset.href=this.getAttribute("href")??"",this.removeAttribute("href")):(this.classList.remove("disabled"),this.removeAttribute("aria-disabled"),this.removeAttribute("hidden"),this.removeAttribute("tabindex"),this.dataset.href&&(this.setAttribute("href",this.dataset.href),delete this.dataset.href))}y(`.${zs}`,e=>{let t=e.querySelector("form");if(!t){console.error("No form found in glossary search component");return}t.addEventListener("submit",u=>{u.preventDefault()});let s=t.querySelector("input[type='search']");if(!s){console.error("No input found in glossary search component");return}let o=document.querySelector(`#${ze}NothingFound`);if(!o){console.error("No element with ID glossaryListNothingFound found in glossary search component");return}let n=e.dataset.searchUrl;if(!n){console.error("No data-fuse-url attribute found in glossary search component");return}let r=new Map(Array.from(document.querySelectorAll(`.${ze} li.${ze}TermItem[data-slug]`)).map(u=>[u.dataset.slug,u])),i=new Map(Array.from(document.querySelectorAll("#tableOfContentsPane a.tableOfContentsAnchorLinkToH2[href^='#glossary-letter-']")).map(u=>{let m=u.getAttribute("href").replace("#glossary-letter-",""),p=u;return p.setAnchorDisabled=Ke,[m,p]})),l=new Map(Array.from(e.querySelectorAll(".glossarySearchJumpLinks a")).map(u=>{let m=u.getAttribute("href").replace("#glossary-letter-",""),p=u;return p.setAnchorDisabled=Ke,[m,p]})),c=new Map(Array.from(document.querySelectorAll("#glossaryList li[id^='glossarySection-letter-'][data-letter]")).map(u=>{let m=u.dataset.letter,p=u;return p.setSectionDisabled=Ke,[m,p]})),a=u=>{let m=Pt(u.items),p=U(()=>{let h=s.value.trim();if(h.length===0){i.forEach(f=>f.setAnchorDisabled(!1)),l.forEach(f=>f.setAnchorDisabled(!1)),c.forEach(f=>f.setSectionDisabled(!1)),o.hidden=!0,r.forEach(f=>f.removeAttribute("hidden"));return}let g=m.search(h);i.forEach(f=>f.setAnchorDisabled(!0)),l.forEach(f=>f.setAnchorDisabled(!0)),c.forEach(f=>f.setSectionDisabled(!0)),o.hidden=g.length>0,r.forEach(f=>f.setAttribute("hidden","true")),g.length>0&&g.forEach(({slug:f,terms:L})=>{r.get(f)?.removeAttribute("hidden");let w=(L[0]??"").charAt(0).toLocaleUpperCase(),C=w.match(/[0-9]/)?"1-9":w;i.get(C)?.setAnchorDisabled(!1),l.get(C)?.setAnchorDisabled(!1),c.get(C)?.setSectionDisabled(!1)})},150);s.addEventListener("input",p),s.value.trim().length>0&&p()},d=J();d.on(({status:u,data:m})=>{u==="success"&&a(m)}),d.load(n)});var Dt=e=>`${e}-${Math.random().toString(36).slice(2)}`,$t=({classPrefix:e,container:t,input:s,onSelect:o})=>{let n=[],r=-1,i=[],l=`${e}SuggestionActive`;t.hidden=!0,t.setAttribute("role","presentation");let c=Dt(`${e}SuggestionsList`),a=document.createElement("ul");a.className=`${e}SuggestionsList`,a.id=c,a.setAttribute("role","listbox"),a.setAttribute("aria-label","Search suggestions"),t.append(a),s.setAttribute("aria-controls",c),s.setAttribute("aria-expanded","false"),s.setAttribute("aria-autocomplete","list"),s.setAttribute("role","combobox"),s.setAttribute("aria-haspopup","listbox");let d=Dt(`${e}SuggestionOption`),u=()=>{n=[],r=-1,i=[],a.textContent="",t.hidden=!0,s.setAttribute("aria-expanded","false"),s.removeAttribute("aria-activedescendant")},m=f=>{let L=n[f];L&&(s.value=L,o(L),u())},p=f=>{r=f,i.forEach((S,w)=>{let C=w===r;S.classList.toggle(l,C),S.setAttribute("aria-selected",String(C))});let L=i[r];L?s.setAttribute("aria-activedescendant",L.id):s.removeAttribute("aria-activedescendant")},h=f=>{if(f.length===0){u();return}n=f,r=-1,i=[],a.textContent="",t.hidden=!1,s.setAttribute("aria-expanded","true");for(let[L,S]of n.entries()){let w=document.createElement("li");w.className=`${e}Suggestion`,w.setAttribute("role","presentation");let C=document.createElement("button");C.type="button",C.className=`${e}SuggestionButton`,C.id=`${d}-${L}`,C.setAttribute("role","option"),C.setAttribute("aria-selected","false"),C.textContent=S,C.addEventListener("mousedown",x=>x.preventDefault()),C.addEventListener("click",()=>m(L)),w.append(C),a.append(w),i.push(C)}},g=f=>i.length===0?!1:f.key==="ArrowDown"?(p((r+1)%i.length),!0):f.key==="ArrowUp"?(p((r-1+i.length)%i.length),!0):f.key==="Enter"&&r>=0?(m(r),!0):f.key==="Escape"?(u(),!0):!1;return document.addEventListener("click",f=>{let L=f.target;!t.contains(L)&&L!==s&&u()}),{render:h,clear:u,handleKey:g}};var{span:ce,replace:be,a:Ot,em:Ks}=I,ee="mainSearch";y(`.${ee}`,e=>{let t=()=>{let x=D(`.${ee}Loading`,{parent:e});x?.addEventListener("transitionend",()=>{x.remove()},{once:!0}),e.classList.add("loaded"),e.style.removeProperty("pointer-events")};if(!("showFiltersButtons"in e.dataset)){t();return}let s=e.dataset.searchUrl;if(!s)throw new G(t,"No data URL provided for search index");let o=(()=>{let x=e.dataset.gridListId,R=e.dataset.summaryId;if(!x||!R){console.error("No grid list or summary ID provided for search filtering");return}return Q(document.getElementById(x),document.getElementById(R),D("form",{parent:e}),D('input[type="search"]',{parent:e}),D(`#${ee}Filters`,{parent:e}),D(`.${ee}SelectedTerms`,{parent:e}),D(`.${ee}Suggestions`,{parent:e}))})();if(o==null)throw new G(t,"Some elements were not found in the DOM");let[n,r,i,l,c,a,d]=o;i.setAttribute("autocomplete","off"),l.setAttribute("autocomplete","off"),l.setAttribute("autocorrect","off"),l.setAttribute("autocapitalize","none"),l.setAttribute("spellcheck","false");let u=K(".itemCard",{parent:n});if(u==null)throw new G(t,"Cards were were not found in the DOM");let m=(()=>{let x=Q(K("input, button.resetSection",{parent:c}),K("label",{parent:a}),D(`.${ee}SelectedTermsClearAllButton`,{parent:a}));if(x==null)throw new G(t,"Some filter elements were not found in the DOM");let[R,P,O]=x,_=N(new Map),F=()=>{let b=N(new Set),A=N(new Set);return b.on(T=>{let E=new Set;T.forEach($=>{$.value.split(" ").forEach(Y=>E.add(Y))}),A.set(E)}),{type:null,mainInput:null,resetButton:null,collection:new Set,selected:b,values:A}},j=new Map,z=new Map;R.forEach(b=>{let A=b.getAttribute("name")||"";if(!j.has(A)){_.get().set(A,new Set);let E=F();j.set(A,E),E.values.on($=>{let Y=_.get();Y.set(A,$),_.set(Y,!0)})}let T=j.get(A);if(b.tagName==="BUTTON"){let E=b;T.resetButton=E}else{let E=b;if(E.classList.contains("resetSection"))T.mainInput=E;else{let $=E;T.collection.add($),T.type===null&&(T.type=E.type==="radio"?"radio":"checkbox"),z.set(E.id,$)}}}),P.forEach(b=>{let A=b.getAttribute("for");if(!A){console.error("No 'for' attribute on selected term label",b);return}let T=z.get(A);if(!T){console.error(`No input found with id ${A} for selected term label`,b);return}T.linkedLabel=b,b.linkedInput=T}),j.forEach((b,A)=>{if(b.type===null||b.mainInput===null)throw console.error(b),new G(t,`Incomplete filter category for ${A}`)});let H=j;H.forEach((b,A)=>{let T=E=>{E.preventDefault(),b.selected.set(new Set)};b.collection.forEach(E=>{E.checked=!1,b.mainInput.checked=!0,E.addEventListener("change",()=>{let $=b.selected.get();E.type==="radio"&&$.clear(),E.checked?$.add(E):$.delete(E),b.selected.set($,!0)}),b.type==="radio"&&E.linkedLabel.addEventListener("click",T)}),b.mainInput.addEventListener("change",T),b.resetButton?.addEventListener("click",T),b.selected.on(E=>{b.mainInput.checked=E.size===0,b.collection.forEach($=>{let Y=E.has($);$.checked=Y,$.linkedLabel.hidden=!Y})})});let ne=()=>{H.forEach(b=>{b.selected.set(new Set)})};return O.hidden=!0,O.addEventListener("click",ne),_.on(b=>{let A=!1;for(let[,T]of b)if(T.size>0){A=!0;break}O.hidden=!A}),{..._,resetAll:ne}})(),p=()=>Object.fromEntries(m.get().entries()),{cards:h,clearCards:g}=(()=>{let x={isSearchResult(_){this.classList.add("isSearchResult"),this.style.setProperty("--search-score",`${_}`)},isNotSearchResult(){this.classList.remove("isSearchResult"),this.style.removeProperty("--search-score")}},R=_=>Object.assign(_,x),P=new Map(u.map(_=>[_.id.slice(9),R(_)]));return{cards:P,clearCards:()=>P.forEach(_=>_.isNotSearchResult())}})(),f=N([0,0]),L=J(),S=x=>{g();let R=0;for(let P=0;P<x.length;P++){let{item:O,score:_}=x[P],F=h.get(O.slug);if(!F){console.error(`Element not found for slug: ${O.slug}`);continue}F.isSearchResult(_),F.style.order=String(P),R+=1}f.set([R,f.get()[1]])},w=([x,R])=>{let P="noResult";if(R===0)document.body.classList.remove(P),be(r,ce(""));else if(x===0){document.body.classList.add(P);let O=m.get().size>0,_=l.value.trim();if(!O&&_===""){be(r,ce("All results"));return}let F=[];m.get().forEach(j=>j.forEach(z=>F.push(z))),_!==""&&F.push(_),be(r,ce(Ks("No results yet! "),Ot({href:`https://school.gdquest.com/about-us/contact?subject=${encodeURIComponent("Suggest an article")}`},"Suggest a subject")))}else document.body.classList.remove(P),be(r,ce({className:"keyword"},x),ce(` result${x===1?"":"s"} out of `),Ot({href:"/library/search#CardSearch",className:"keyword"},R))},C=x=>{let{items:R}=x,P=R.length;f.set([P,P]);let O=Nt(R),_=(A,T)=>O.search(A,{filters:T}),F=N(""),j=()=>{let A=F.get(),T=p(),E=A.length>0,$=Object.values(T).some(Xt=>Xt.size>0);if(!E&&!$){n.classList.remove("isFiltered"),g(),f.set([P,P]);return}n.classList.add("isFiltered");let Y=_(A,T);S(Y)},z=(A,{updateHistory:T=!0}={})=>{let E=typeof A=="string"?A.trim():"";F.set(E),l.value=E,T&&E===""&&globalThis.history.replaceState(null,"",globalThis.location.pathname),H?.clear(),j()},H=d?$t({classPrefix:ee,container:d,input:l,onSelect:A=>{m.resetAll(),z(A)}}):null,ne=H?U(()=>{let A=l.value.trim();if(A.length<2){H.clear();return}let T=O.suggest(A);H.render(T)},120):null;H&&ne&&(l.addEventListener("input",()=>{ne()}),l.addEventListener("keydown",A=>{H.handleKey(A)&&A.preventDefault()})),i.addEventListener("submit",A=>{A.preventDefault();let T=new FormData(i).get("search");typeof T=="string"&&(m.resetAll(),globalThis.history.replaceState(null,"",`?search=${encodeURIComponent(T)}`),z(T,{updateHistory:!1}))});let{search:b=!1}=Oe($e(globalThis.location.search,{single:!0,joinArrayChar:!1}),["search"]);b!==!1&&b.length>0&&z(b,{updateHistory:!1}),m.on(()=>j())};L.on(({status:x,data:R})=>{x==="success"?(C(R),t()):console.error("Failed to load search data with status",x,R)}),f.on(w),L.load(s)},{onError:e=>{if(e instanceof G&&typeof e.data=="function"){let t=e.data;console.error("Error setting up main search component:",e.message),t()}else throw e}});var{add:Vs,button:Ws,div:Xs,span:Js}=I;function Qs(e){this.buttonLabel.textContent=e}function Zs(e){let t=this.getAttribute("aria-controls"),s=document.querySelector(`#${t}`);if(!s)return;let o=this.getAttribute("aria-expanded")==="false";s.type=o?"text":"password",this.setAttribute("aria-expanded",String(o)),this.setText(o?"hide characters":"show characters")}y('input[type="password"]',e=>{let t=e.getAttribute("id");if(!t)return;let s=Js(null,"show characters"),o=Object.assign(Ws({class:"passwordContainerRevealButton",ariaExpanded:"false",type:"button",ariaControls:t,onclick:Zs},s),{buttonLabel:s,setText:Qs}),n=Xs({class:["passwordContainer","inputContainer"]});e.parentElement?.insertBefore(n,e),Vs(n,e,o)});document.querySelectorAll(".promoGDSchool").length>1&&document.querySelector(".itemPageMeta .itemPageMetaPromoGDSchoolStarterKit")?.classList.add("hideOnMobile");var{add:Bt,button:eo,div:Se,span:to}=I,re="userMessage",Ae=Se({class:`${re}sPane`});Bt(document.body,Se({class:`${re}s`},Ae));var Mt=(e,t,s)=>{let o=Se({role:"alert",ariaLive:"assertive",ariaAtomic:"true",id:e,class:[re,`${re}--${s}`]},Se(null,t),eo({ariaControls:e},to(null,"Close")));Bt(Ae,o)};Ae.addEventListener("click",e=>{let t=e.target;if(t.tagName==="BUTTON"){let s=t.getAttribute("aria-controls");s&&se().remove(s)}});Ae.addEventListener("animationend",e=>{let t=e.target;t.classList.contains(`${re}Closing`)&&t.remove()});se().entries().forEach(([e,{message:t,type:s}])=>Mt(e,t,s));se().onMessageAdded((e,{message:t,type:s})=>Mt(e,t,s));se().onMessageRemoved(e=>document.getElementById(e)?.classList.add(`${re}Closing`));var so=St("ScrollingList");y(".scrollingList",e=>{let t=e.querySelector(".gridItemsList"),s=e.querySelector(".scrollingListControls"),o=e.querySelector(".scrollingListControlsPrevious"),n=e.querySelector(".scrollingListControlsNext");if(!t||!s||!o||!n){so.warn("ScrollingList: Missing required elements. Ensure the grid and controls are present.",{grid:t,controls:s,prevButton:o,nextButton:n});return}let r=0,i=0,l=0,c=()=>{s.removeAttribute("hidden"),e.classList.add("isScrolling"),e.ariaRoleDescription="carousel",o.addEventListener("click",()=>d(-1)),n.addEventListener("click",()=>d(1)),globalThis.addEventListener("resize",U(m)),t.addEventListener("scrollend",a),a()},a=()=>{r=t.offsetWidth;let h=t.scrollWidth;i=Math.ceil(h/r),l=Math.ceil(t.scrollLeft/r),p()},d=h=>{let g=(l+h)%i;u(g)},u=h=>{l=h,t.scrollLeft=h*r,p()},m=()=>{a(),u(l)},p=()=>{o.disabled=l===0,n.disabled=l===i-1};c()});var{p:kt,span:oo,ul:ro,li:Ft,div:de,h4:Ut,h3:no}=I,M="nodeFlashCard",ao={Navigation2D:"NavigationAgent2D",Navigation3D:"NavigationAgent3D",CSG:"CSGBox3D",Light2D:"DirectionalLight2D",Light3D:"DirectionalLight3D"},io=e=>`./icons/godot/${ao[e]??e}.svg`,qt=e=>{let t=e.replaceAll(/([^A-Z0-9 .\s]+)([A-Z0-9])/g,"$1&shy;$2");return console.log("0----0",{newText:t}),t},jt=({category:e,title:t,use_when:s,examples:o,name:n})=>Ft({className:[M,`${M}Category-${e}`]},de({className:`${M}Header`},no({className:`${M}HeaderTitle`},qt(n)),de({className:`${M}HeaderIcon`,style:{"--node-icon":`url(${io(n)})`}})),de({className:`${M}Body`},oo({className:`${M}Badge`},e),kt({className:`${M}ShortDescription`},qt(t)),de({className:`${M}Usage`},Ut({className:`${M}UsageTitle`},"USE IT WHEN"),kt({className:`${M}UsageText`},s)),de({className:`${M}Examples`},Ut({className:`${M}ExamplesTitle`},"EXAMPLES"),ro({className:`${M}ExamplesList`,role:"list"},...o.map(r=>Ft(r))))));var{replace:lo}=I,Ve=J();y(".nodeFlashCardShuffler",e=>{let t=e.querySelector(".nodeFlashCardShufflerContentPane"),s=e.querySelectorAll("button.nodeFlashCardShufflerButton"),o=e.querySelector(".nodeFlashCardShufflerGrid");if(!t||!o){console.error("Missing required elements for Node Flashcard Shuffler");return}let n=e.dataset.nodesUrl;if(!n){console.error("No data URL found for Node Flashcard Shuffler");return}let r=m=>{t.setAttribute("aria-busy",m?"true":"false"),s.forEach(p=>m?p.setAttribute("disabled",""):p.removeAttribute("disabled"))};o.addEventListener("animationend",()=>o.classList.remove("slideIn"));let i=[],l=0,c=()=>{if(i.length===0)return;r(!1);let m=l+3;m>=i.length&&(l=0,u());let p=i.slice(l,m);l=m,lo(o,...p.map(jt)),o.classList.add("slideIn")},a=()=>{r(!0),setTimeout(c,q(300,1e3))},d=m=>{t.getAttribute("aria-busy")!=="true"&&a()},u=()=>{let m=Ve.data();if(!m)return;i.length=0,i.push(...De(m.list));let p=i.length%3;if(p!==0){let h=3-p,g=i.slice(-h);i.push(...g)}};Ve.on(({status:m})=>{m!=="success"?r(!0):(u(),c(),r(!1))}),s.forEach(m=>m.addEventListener("click",d)),r(!0),Ve.load(n)});document.querySelectorAll(".itemSummaryBrowser").forEach(e=>{e.querySelector("button.itemSummaryBrowserRandomButton")?.addEventListener("click",()=>{e.setAttribute("aria-busy","true"),setTimeout(()=>e.setAttribute("aria-busy","false"),1e3)})});y('form[data-is="mailingListCollector"]',e=>{let t=e.querySelector("[aria-live]");if(!t){console.error("there's no announcement field in this mailing list form");return}let s=Array.from(t.querySelectorAll("span"));if(s.length<3){console.error("missing message elements in this mailing list form");return}let[o,n,r]=s.map(c=>{let a=c.cloneNode(!0);return a.removeAttribute("aria-hidden"),a.removeAttribute("hidden"),a.textContent=c.textContent,c.remove(),()=>{t.innerHTML="",t.append(a)}}),i=e.querySelector('input[type="hidden"][name="json"]');i&&(i.value="true");let l=Ie({method:"POST",doDisableForm:!0,doReEnableForm:500,callback:async(c,a)=>{if(c||!a){console.error(c,a),r();return}switch((await a.json()).code){case 200:o();break;case 201:n();break;default:r()}}});e.addEventListener("submit",l)});var k="tableOfContents";var We="isActive",ue="isCurrent",Zn=k+"SubheadingsList",ea=k+"SubheadingsContainer",Gt=k+"Anchor",ta=k+"AnchorLinkTo",sa=k+"ListItem",oa=k+"ItemLevel",Ht=k+"FoldUnfoldButton",Yt=`${k}SideBarIsClosed`,zt=`${k}Pane`;var Kt=(e=1080)=>{let t=(getComputedStyle(document.body,":before")?.getPropertyValue("content")??"").slice(1,-1).trim();return t||(globalThis.matchMedia(`(max-width: ${e}px)`).matches?"viewport-mobile":"viewport-desktop")};function uo(e){e?this.classList.add(We):this.classList.remove(We)}function Xe(e){let t=this.parentElement;if(e){t.classList.add(ue),Ne(t,this.scrollingParent);let s=this.closestRevealButton;s&&s.getAttribute("aria-expanded")==="false"&&s.click()}else t.classList.remove(ue)}var mo=(e,t)=>(document.getElementById(e)?.getBoundingClientRect().top??0)-(document.getElementById(t)?.getBoundingClientRect().top??0),fo=e=>e&&Array.from(e.children).find(t=>t.matches(`button.${Ht}`));y('[data-is="article-toc"]',e=>{let t=[],s=[],o=new Map,n=e.closest(`.${zt}`);if(!n)throw new Error("Scrolling parent not found");let r=()=>e.querySelectorAll(`.${ue}`).forEach(u=>u.classList.remove(ue)),i=!1;function l(){r(),Xe.call(this,!0),i=!0,Re(()=>{i=!1,Xe.call(this,!0)})}e.querySelectorAll(`a.${Gt}[href^="#"]`).forEach(u=>{let m=u.getAttribute("href");if(!m)return;let p=document.querySelector(m);if(!p)return;let h=m.slice(1);s.push(h),t.push(p),u.heading=p,o.set(h,u),u.setIsScrolledPast=uo,u.setIsCurrent=Xe,u.scrollingParent=n,u.addEventListener("click",l)});let c=new Set;o.forEach(u=>{let m=u.parentElement;for(;m;){let p=fo(m);if(p!=null){u.closestRevealButton=p,c.add(p);return}m=m.parentElement?.closest("li")}});let a=[],d=new IntersectionObserver(u=>{if(u.forEach(h=>{if(h.isIntersecting&&h.intersectionRatio>0)a.push(h.target.id);else{let g=a.indexOf(h.target.id);g>-1&&a.splice(g,1)}}),a.length===0)return;let m=a.sort(mo).at(0),p=!1;i===!1&&r();for(let[h,g]of o)p||h===m?h===m?(p=!0,g.setIsScrolledPast(!0),i===!1&&g.setIsCurrent(!0)):g.setIsScrolledPast(!1):g.setIsScrolledPast(!0)},{rootMargin:"0% 0% -10% 0%"});t.forEach(u=>d.observe(u))});y(`#${k}Wrapper button.${k}ToggleButton`,e=>{if(!document.getElementById(e.getAttribute("aria-controls")))return;e.addEventListener("toggler-toggleshow",o=>{document.documentElement.classList.toggle(Yt,o.isHidden)}),Kt()==="viewport-mobile"&&e.click()});function po(e){let t=-1,s=new Map,o=Array.from(e.querySelectorAll('a[href^="#"][role="tab"]')).reduce((a,d,u)=>{let m=d.getAttribute("aria-controls");if(!m||!d.hash)return a;let p=document.getElementById(m);return p&&(d.getAttribute("aria-selected")==="true"&&(t=u),s.set(d.hash,u),d.panel=p,a.push(d)),a},[]),n=()=>{let a=o[t];a&&(o.forEach(d=>{d!=a&&(d.setAttribute("aria-selected","false"),d.setAttribute("tabindex","-1"),d.panel.setAttribute("aria-hidden","true"),d.panel.setAttribute("hidden","true"))}),a.setAttribute("aria-selected","true"),a.setAttribute("tabindex","0"),a.panel.setAttribute("aria-hidden","false"),a.panel.removeAttribute("hidden"))},r=()=>t===o.length-1?0:t+1,i=()=>t===0?o.length-1:t-1,l=a=>{a!==t&&(o[t]?.setAttribute("tabindex","-1"),t=a,o[t]?.setAttribute("tabindex","0"),o[t]?.focus())};e.addEventListener("keydown",a=>{if(a.key==="ArrowRight"||a.key==="ArrowLeft"){let d=a.key==="ArrowRight"?r():i();l(d)}});function c(){let a=s.get(location.hash);a!=null&&(t=a,n())}t===-1&&(t=0),globalThis.addEventListener("hashchange",c),n(),c()}y('[role="tablist"]',po);document.querySelectorAll('button[data-is="theme-toggle"]').forEach(e=>{e.addEventListener("click",()=>{let t=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"light")})});document.querySelectorAll("video[data-should-preload]").forEach(e=>{switch(e.getAttribute("data-should-preload")){case"onmouseenter":e.addEventListener("mouseenter",()=>{e.preload="auto"});break}});var{a:ho,span:go,add:bo}=I,So=(document.body.querySelector("main h1")?.textContent??"").trim(),Vt=new URL(globalThis.location.href);Vt.hash="";y("main.prose h1, main.prose h2, main.prose h3",e=>{let t=e.id;if(!t)return;e.classList.add("anchorClipboardButtonInvoker");let s=e.textContent?.trim()??"",o=`${So} - ${s}: ${Vt}#${t}`,n=ho({className:"anchorClipboardButton",dataIs:"clipboard-button",href:`#${t}`,dataClipboard:o},go("Click to copy"));n.addEventListener("click",r=>{r.preventDefault(),history.pushState&&history.pushState(null,"unused",`#${t}`)}),bo(e,n)},"js-processed-anchorClipboardButtonInvoker");function Ao(e){e.setAttribute("aria-pressed","false")}function yo(e){let t=this.getAttribute("data-clipboard"),s=t==="currentURL"||t==null?globalThis.location.href:t;navigator.clipboard.writeText(s),this.setAttribute("aria-pressed","true"),setTimeout(()=>Ao(this),2e3)}var Eo=e=>{e.addEventListener("click",yo)};y("[data-is='clipboard-button']",Eo);var Lo=({scrollElement:e,granularity:t=10})=>{let s=N(0);return e.addEventListener("scroll",()=>{let o=globalThis.scrollY,n=Math.round(o/t)*t;s.get()!==n&&s.set(n)}),s},Wt=()=>Math.max(document.documentElement.clientHeight||1,globalThis.innerHeight||1),Co=({recipient:e,scalarPropName:t="data-scroll-y",customVariable:s="--scrollY",booleanPropName:o="data-scroll-y-is-snapped",...n})=>{let r=Lo(n),i=Wt();document.body.addEventListener("resize",()=>i=Wt()),e.classList.add("isListeningToScroll");let l=()=>{let c=r.get();if(e.style.setProperty(s,`${c}px`),e.setAttribute(t,`${c}`),c>0){e.setAttribute(o,"");let a=i>=document.documentElement.scrollHeight?document.documentElement.scrollHeight:Math.round(c/i);if(a>0){let d=`screenScrolled-${a}`;e.classList.contains(d)||e.classList.add(d)}}else e.removeAttribute(o)};r.on(l),l()};Co({scrollElement:document,recipient:document.documentElement});document.querySelectorAll(".showWhenJSLoads").forEach(e=>e.removeAttribute("hidden"));document.querySelectorAll(".makeUsableWhenJSLoads").forEach(e=>e.style.removeProperty("pointer-events"));document.querySelectorAll("a").forEach(e=>e.getAttribute("href")==globalThis.location.pathname&&e.classList.add("active"));
//# sourceMappingURL=client.js.map
