<!doctype html><head><title>Ranged attacks with and without area of effect | GDQuest Library</title><meta charset="UTF-8"/><link rel="stylesheet" href="/library/style.css"/><script defer="true" data-domain="gdquest.com" src="https://plausible.io/js/script.outbound-links.tagged-events.js"></script><script >window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><script src="/library/head.js" type="module"></script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="Ranged attacks with and without area of effect | GDQuest Library"/><meta name="twitter:title" content="Ranged attacks with and without area of effect | GDQuest Library"/><meta name="description" content="Learn how to code a ranged attack weapon that targets based on mouse position. This guide covers creating both targetted and area of effect (AoE) attacks using Godot 4."/><meta name="twitter:description" content="Learn how to code a ranged attack weapon that targets based on mouse position. This guide covers creating both targetted and area of effect (AoE) attacks using Godot 4."/><meta property="og:description" content="Learn how to code a ranged attack weapon that targets based on mouse position. This guide covers creating both targetted and area of effect (AoE) attacks using Godot 4."/><meta property="og:image" content="https://www.gdquest.com/library/ranged_attacks/ranged_attacks.webp"/><meta name="twitter:image" content="https://www.gdquest.com/library/ranged_attacks/ranged_attacks.webp"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:type" content="website"/></head><body ><header class="mainNavContainer"><nav class="mainNavWrapper"><a href="/" class="mainNavLogo gdquestLogo"><span>GDQuest</span></a><button class="mainNavButtonToggle showWhenJSLoads" hidden="true" data-is="toggler-button" data-body-class="mainNavOpen" data-start-expanded="false" aria-expanded="true" aria-controls="main-nav-items" aria-hidden="true"><span class="mainNavButtonToggleBurger"><span></span><span></span></span><span class="mainNavButtonToggleLabel">menu</span></button><div id="main-nav-items" class="mainNavItemsListWrapper"><div class="mainNavItemsList"><a class="mainNavItem" href="/tutorial">Tutorials</a><a class="mainNavItem" href="/tools">tools</a><a class="mainNavItem" href="/product">Products</a><a class="mainNavItem" href="/about">About</a><a class="mainNavItem is-new" href="https://school.gdquest.com">Godot 4 courses</a><div class="mainNavSecondaryItems"><a href="https://school.gdquest.com/auth/login" class="mainNavSecondaryItemsButton loginButton"><span>login</span></a><button title="Press to toggle to dark mode" class="themeToggle mainNavSecondaryItemsButton themeToggleButton" data-is="theme-toggle"><span class="themeToggleLabel">Toggle Theme</span><span class="themeToggleIcons"><span class="themeToggleIconsIcon themeToggleIconsIconDark"><span>üåô</span></span><span class="themeToggleIconsIcon themeToggleIconsIconLight"><span>‚òÄÔ∏è</span></span></span></button></div></div></div></nav></header><div class="itemSummaryBrowserHero"><section class="itemSummaryBrowser"><div class="itemSummaryBrowserDisplay"><div class="itemSummaryBrowserDisplayLoading"></div><div class="itemSummaryCardWrapper"><article class="itemSummaryCard"><span class="itemSummaryCardBackground" aria-hidden="true"></span><h4 class="itemSummaryCardTitle"><a href=""></a></h4><h3 class="itemSummaryCardDate">2025/10/21</h3><img class="itemSummaryCardCover" src="https://www.gdquest.com/library/ranged_attacks/ranged_attacks-thumb.webp" width="500" srcset="https://www.gdquest.com/library/ranged_attacks/ranged_attacks-thumb.webp 320w, https://www.gdquest.com/library/ranged_attacks/ranged_attacks-sm.webp 640w, https://www.gdquest.com/library/ranged_attacks/ranged_attacks-md.webp 1280w, https://www.gdquest.com/library/ranged_attacks/ranged_attacks-lg.webp 1920w" sizes="(min-width: 1000px) 25vw, 70vw" alt=""/><dl class="itemSummaryCardAttributes"><div><dt>Type</dt><dd>Learning Resource</dd></div><div><dt>Format</dt><dd>Study Guide</dd></div><div><dt>Version</dt><dd>Godot 4.x</dd></div><div><dt>Subject Tags</dt><dd class="itemSummaryCardAttributesTags"><ul><li><a>Study Guide</a></li><li><a>All Genres</a></li></ul></dd></div></dl><ul class="itemSummaryCardFeatures" role="list"><li>Downloadable Demo</li><li>FAQ/Troubleshooting</li></ul><dl class="itemSummaryCardLicenses"><div><dt class="itemSummaryCardLicensesCodeLabel">Code</dt><dd><ul role="list"><li><a href="https://www.tldrlegal.com/license/mit-license">MIT</a></li></ul></dd></div><div><dt class="itemSummaryCardLicensesAssetsLabel">Assets</dt><dd><ul role="list"><li><a href="https://www.tldrlegal.com/license/creative-commons-attribution-4-0-international-cc-by-4">CC By 4.0</a></li></ul></dd></div><div><dt class="itemSummaryCardLicensesAllElseLabel">All else</dt><dd>Copyright 2016<wbr></wbr>-<wbr></wbr>2025, GDQuest</dd></div></dl><dl class="itemSummaryCardDates"><dt>Created</dt><dl>2025/10/13</dl><dt>Updated</dt><dl>2025/10/21</dl></dl><button class="clapsButton plausible-event-clap=true" title="Clap" aria-pressed="false" aria-live="polite"><span class="clapsButtonLabel"><span class="clapsButtonLabelTitle">Clap</span></span><span class="clapsButtonBubble">+1</span><span class="clapsButtonAmount"><span class="clapsButtonAmountAbbreviated" aria-hidden="true" hidden="true">0</span><span class="clapsButtonAmountTotal" aria-live="polite">0</span></span></button></article></div></div></section></div><section class="contentPageGrid"><div class="tableOfContentsWrapper" id="tableOfContentsWrapper"><button class="tableOfContentsToggleButton showWhenJSLoads" aria-controls="tableOfContentsPane" data-is="toggler-button" aria-expanded="true" hidden="true"><span>Toggle Table of Contents</span></button><div class="tableOfContentsContainer" id="tableOfContentsContainer"><nav class="tableOfContentsPane" id="tableOfContentsPane"><ul data-is="article-toc" class="tableOfContentsMainList" role="list"><li class="tableOfContentsItemLevel1 tableOfContentsListItem hasSubheadings"><a href="#ranged-attacks-with-and-without-area-of-effect" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-app">Ranged attacks with and without area of effect</span></a><button aria-controls="hsub-ranged-attacks-with-and-without-area-of-effect" data-is="toggler-button" data-start-expanded="false" aria-expanded="true" class="tableOfContentsFoldUnfoldButton showWhenJSLoads" hidden="true"><span class="whenNotToggled">unfold subheadings</span><span class="whenToggled">fold subheadings</span></button><div id="hsub-ranged-attacks-with-and-without-area-of-effect" class="tableOfContentsSubheadingsContainer"><ul class="tableOfContentsSubheadingsList"><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#ranged-attack-overview" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Ranged attack overview</span></a></li><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#the-arrow-projectile" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">The arrow projectile</span></a></li><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#extending-the-arrow-for-area-of-effect" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Extending the arrow for area of effect</span></a></li></ul></div></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#download-files" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-download">Download files</span></a></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#updates-code-patches" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-patch">Updates / Code patches</span></a></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#contributeBlock" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-github">Contribute to the Library</span></a></li></ul></nav></div></div><main class="prose"><h1 class="hasIconBefore icon-app" id="ranged-attacks-with-and-without-area-of-effect">Ranged attacks with and without area of effect</h1>
<p>In this guide, you'll learn how to create ranged attacks that shoot projectiles toward your mouse cursor in 2D games. We'll cover both single-target attacks like arrows or bullets and area of effect (AoE) attacks that damage multiple enemies at once.</p>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="true" class="info">This video was made with Godot 3. The guide below has been rewritten for Godot 4.</dt><dd><div>
<div class="videoEmbed video-youtube"><iframe src="https://www.youtube-nocookie.com/embed/sWUGxkbh2fg" title="How to Code Ranged Attacks in Godot: Single Target and AoE (by @Aecert)" width="560" height="315" loading="lazy" referrerPolicy="strict-origin-when-cross-origin" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" allowFullscreen="true" frameBorder="0"></iframe></div>
</div></dd></dl>
<p>In this study guide, you'll learn:</p>
<ul>
<li>How to code ranged attacks that fire projectiles at the mouse position</li>
<li>How to expand ranged attacks with an AoE that damages all enemies within a certain radius</li>
<li>What changed in Godot 4 to make physics interactions easier and more flexible</li>
</ul>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">What changed in Godot 4</dt><dd><div>
<p>This section is a quick reference for the video above, which was made with Godot 3. Here's what changed in Godot 4 compared to the video:</p>
<ul>
<li><strong>Variable keywords now use annotations:</strong> Godot 3's <code class="language-gdscript">onready var</code> is now <code class="language-gdscript">@onready var</code>, and <code class="language-gdscript">export var</code> has become <code class="language-gdscript">@export var</code>.</li>
<li><strong>Signal connections:</strong> Instead of the string-based signal connection, <code class="language-gdscript">node.connect("signal_name", self, "callback_function")</code>, we can now write <code class="language-gdscript">node.signal_name.connect(callback_function)</code> as signals and functions are first-class citizens.</li>
</ul>
<p>The rest of this guide uses Godot 4 syntax and conventions.</p>
</div></dd></dl>
<h2 id="ranged-attack-overview">Ranged attack overview</h2>
<p>Head to the <a href="#download-files">download section</a> to download the open-source demo and explore the code.</p>
<p>In this demo, we're solving a common problem: how to make projectiles that damage enemies when you click to attack. Here are the key files you'll find in the demo:</p>
<ul>
<li><span data-is="file-in-text" data-file-only="false" data-path="res://ranged_attacks_2d.tscn">res://ranged_attacks_2d.tscn</span>: The main demo scene where you can test shooting arrows and fireballs at enemies.</li>
<li><span data-is="file-in-text" data-file-only="false" data-path="res://player_2d/player_2d.tscn">res://player_2d/player_2d.tscn</span>: The player controller that handles spawning and shooting projectiles toward your mouse cursor.</li>
<li><span data-is="file-in-text" data-file-only="false" data-path="res://weapons/arrow_2d.tscn">res://weapons/arrow_2d.tscn</span>: The arrow projectile that moves in a straight line and damages one enemy.</li>
<li><span data-is="file-in-text" data-file-only="false" data-path="res://weapons/fireball_2d.tscn">res://weapons/fireball_2d.tscn</span>: The fireball projectile that explodes on impact and damages all enemies in a radius.</li>
<li><span data-is="file-in-text" data-file-only="false" data-path="res://enemy.tscn">res://enemy.tscn</span>: An enemy with a hurt box that detects when projectiles hit it.</li>
</ul>
<p>Both projectiles move in a straight line toward where you clicked. The difference is in how they deal damage: the arrow damages the first enemy it touches, while the fireball spawns an area of effect explosion when it hits anything.</p>
<img src="https://www.gdquest.com/library/ranged_attacks/images/ranged-attacks-scene.png" alt="Screenshot of the main RangedAttacks2D demo scene">
<p>The enemies react to attacks with a hit animation to give you visual feedback.</p>
<p>The key code you'll learn from is in the projectile scripts, as that's where we handle movement, collision detection, and dealing damage. Let's first look at the arrow.</p>
<h2 id="the-arrow-projectile">The arrow projectile</h2>
<p>The arrow is our basic projectile that hits one enemy at a time. It flies toward your mouse position when you shoot. You'll see how to use this arrow as the base for the AoE fireball later.</p>
<p>Let's look at how it works.</p>
<img src="https://www.gdquest.com/library/ranged_attacks/images/arrow-scene.png" alt="Screenshot of the Arrow2D scene">
<p>We use two <span class="iconGodotWrapper"><span class="iconGodot iconGodot-Area2D" aria-hidden="true"><span class="iconGodotLabel">Area2D</span></span>Area2D</span> nodes to split up the work:</p>
<ol>
<li><em>ImpactDetectorArea2D</em> detects when the projectile hits something physical (like a wall or enemy).</li>
<li><em>HitArea2D</em> is a hit box: a damage dealing area that enemies can detect and holds the damage value.</li>
</ol>
<p>For the arrow, both collision shapes are the same size. Depending on the game and weapon, you'll need different sizes for these areas. You'll see that with the fireball down below.</p>
<p>The <em>HitArea2D</em> script sets up the collision layers and mask so enemies can detect it. It also stores the <code class="language-gdscript">damage</code> property that tells enemies how much health to lose when hit.</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line"><span class="token keyword">class_name</span> <span class="token class-name">HitArea2D</span>
</span><span class="code-line"><span class="token keyword">extends</span> <span class="token class-name">Area2D</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> damage <span class="token operator">:=</span> <span class="token number">10</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _collision_shape<span class="token punctuation">:</span> <span class="token class-name">CollisionShape2D</span> <span class="token operator">=</span> <span class="token variable">$CollisionShape2D</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	collision_layer <span class="token operator">=</span> <span class="token number">2</span>
</span><span class="code-line">	collision_mask <span class="token operator">=</span> <span class="token number">4</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_disabled</span><span class="token punctuation">(</span>is_disabled<span class="token punctuation">:</span> <span class="token class-name">bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	_collision_shape<span class="token punctuation">.</span><span class="token function">set_deferred</span><span class="token punctuation">(</span><span class="token string">"disabled"</span><span class="token punctuation">,</span> is_disabled<span class="token punctuation">)</span>
</span></code></pre>
<p>This activates the physics layer 2 and masks layer 3. Collision layers and masks use binary values under the hood, so layer 2 is binary number <code class="language-gdscript">0010</code> and layer 3 is <code class="language-gdscript">0100</code>. The bits with <code class="language-gdscript">1</code> mean "active" or "detect," while bits with <code class="language-gdscript">0</code> mean "inactive" or "ignore."</p>
<p>The collision layer is the physics layer we reserve for hit boxes in this demo, while the collision mask determines which layers this area can detect (hurt boxes in our case).</p>
<p>The <code class="language-gdscript">set_disabled()</code> function is called in the main projectile script to toggle the hit box on and off.</p>
<p>Before we move on to the fireball, here's how we coded the <code class="language-gdscript">arrow_2d.gd</code> script:</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line"><span class="token keyword">class_name</span> <span class="token class-name">Arrow2D</span>
</span><span class="code-line"><span class="token keyword">extends</span> <span class="token class-name">Node2D</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> speed <span class="token operator">:=</span> <span class="token number">1000.0</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> lifetime <span class="token operator">:=</span> <span class="token number">3.0</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">var</span> direction <span class="token operator">:=</span> Vector2<span class="token punctuation">.</span><span class="token constant">ZERO</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _impact_detector_area<span class="token punctuation">:</span> <span class="token class-name">Area2D</span> <span class="token operator">=</span> <span class="token operator">%</span>ImpactDetectorArea2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _timer<span class="token punctuation">:</span> <span class="token class-name">Timer</span> <span class="token operator">=</span> <span class="token operator">%</span>Timer
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">	_impact_detector_area<span class="token punctuation">.</span>body_entered<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>_on_impact_detector_area_body_entered<span class="token punctuation">)</span>
</span><span class="code-line">	_timer<span class="token punctuation">.</span>timeout<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>queue_free<span class="token punctuation">)</span>
</span><span class="code-line">	_timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span>lifetime<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	top_level <span class="token operator">=</span> <span class="token boolean">true</span>
</span><span class="code-line">	<span class="token function">look_at</span><span class="token punctuation">(</span>position <span class="token operator">+</span> direction<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_physics_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">:</span> <span class="token class-name">float</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	position <span class="token operator">+=</span> direction <span class="token operator">*</span> speed <span class="token operator">*</span> delta
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_on_impact_detector_area_body_entered</span><span class="token punctuation">(</span>_body<span class="token punctuation">:</span> <span class="token class-name">Node2D</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token function">queue_free</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre>
<p>The <code class="language-gdscript">speed</code> property controls how fast the arrow moves in pixels per second, and <code class="language-gdscript">lifetime</code> is how long the arrow exists before disappearing.</p>
<p>In <code class="language-gdscript">_ready()</code>, we connect the impact detector to destroy the arrow when it hits something. We also start a timer that will automatically destroy the arrow after the lifetime ends, even if it hasn't hit anything yet.</p>
<p>The <code class="language-gdscript">top_level</code> property is important here. When set to <code class="language-gdscript">true</code>, it makes the arrow independent from its parent node. Without this, the arrow would rotate and move along with the player. We then use <code class="language-gdscript">look_at()</code> to rotate the arrow sprite to face the direction it's traveling. It moves in a straight line so we just need to point it in the right direction once.</p>
<p>The <code class="language-gdscript">_physics_process()</code> function moves the arrow every frame by updating its position based on the direction vector, speed, and delta time.</p>
<p>Finally, <code class="language-gdscript">_on_impact_detector_area_body_entered()</code> is called when the arrow collides with something. For the basic arrow, we destroy it with <code class="language-gdscript">queue_free()</code>. You can override this function in child classes to add different behaviors, like the explosion we'll see with the fireball.</p>
<p>Next let's look at the fireball script <span data-is="file-in-text" data-file-only="false" data-path="res://weapons/fireball_2d.gd">res://weapons/fireball_2d.gd</span>. It extends this class and adds the area of effect explosion on top.</p>
<h2 id="extending-the-arrow-for-area-of-effect">Extending the arrow for area of effect</h2>
<p>The first thing you'll notice in <span data-is="file-in-text" data-file-only="false" data-path="res://weapons/fireball_2d.tscn">res://weapons/fireball_2d.tscn</span> is that the two <span class="iconGodotWrapper"><span class="iconGodot iconGodot-Area2D" aria-hidden="true"><span class="iconGodotLabel">Area2D</span></span>Area2D</span> nodes have different collision shapes. We need <em>HitArea2D</em> to be much larger to cover the explosion radius and hit multiple enemies.</p>
<div class="videoFile videoFileUseDefaultAspectRatio videoFileRounded"><video src="https://www.gdquest.com/library/ranged_attacks/videos/fireball-explosion.mp4" class="videoFileVideo" width="100" height="100" muted="true" loop="true" controls="true" playsInline="true" preload="metadata" data-should-preload="onmouseenter"><source data--src="https://www.gdquest.com/library/ranged_attacks/videos/fireball-explosion.mp4" type="video/mp4"/>Your browser does not support the video tag. <a href="https://www.gdquest.com/library/ranged_attacks/videos/fireball-explosion.mp4">Download the video instead</a></video><div class="videoFileButtonsContainer"><a class="videoFileButtonsContainerButtonNewTab" href="https://www.gdquest.com/library/ranged_attacks/videos/fireball-explosion.mp4" target="_blank" title="open in new tab"><span>open in new tab</span></a></div></div>
<p>We start with <em>HitArea2D</em> disabled. If we left it enabled, the fireball would damage the first enemy it touches without exploding first. Instead, we use <em>ImpactDetectorArea2D</em> to detect when the fireball hits something and then trigger the explosion.</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line"><span class="token keyword">extends</span> <span class="token class-name">Arrow2D</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _sprite<span class="token punctuation">:</span> <span class="token class-name">Sprite2D</span> <span class="token operator">=</span> <span class="token operator">%</span>Sprite2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _hit_area<span class="token punctuation">:</span> <span class="token class-name">Area2D</span> <span class="token operator">=</span> <span class="token operator">%</span>HitArea2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> _explosion_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>ExplosionGPUParticles2D
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_on_impact_detector_area_body_entered</span><span class="token punctuation">(</span>_body<span class="token punctuation">:</span> <span class="token class-name">Node2D</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token function">get_tree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">create_timer</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>timeout<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>
</span><span class="code-line">		<span class="token keyword">func</span> <span class="token function">_disable_hit_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">			_hit_area<span class="token punctuation">.</span><span class="token function">set_disabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	speed <span class="token operator">=</span> <span class="token number">0.0</span>
</span><span class="code-line">	_sprite<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span>
</span><span class="code-line">	_explosion_particles<span class="token punctuation">.</span>emitting <span class="token operator">=</span> <span class="token boolean">true</span>
</span><span class="code-line">
</span><span class="code-line">	_hit_area<span class="token punctuation">.</span><span class="token function">set_disabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">	_timer<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">0.6</span><span class="token punctuation">)</span>
</span></code></pre>
<p>When the fireball hits something, we override the arrow's impact function to create an explosion. Here's what happens step by step.</p>
<p>First, we create a short timer that will disable the hit area after 0.1 seconds. During this brief window, any enemies within the explosion radius will get hit. We use a lambda function here to disable the hit area when the timer runs out.</p>
<p>Next, we stop the fireball from moving by setting its speed to zero. You could also call <code class="language-gdscript">set_physics_process(false)</code> to achieve the same result. Then we hide the fireball sprite and start the particle effect to show the explosion visually.</p>
<p>The important part is that we enable the hit area with <code class="language-gdscript">set_disabled(false)</code>. We start with this area disabled in the scene. When we enable it, all enemies currently inside the radius will detect it and take damage.</p>
<p>Finally, the last line starts the timer to destroy the fireball after 0.6 seconds. It's to give enough time for the explosion effect to play before removing the node.</p>
<h1 class="hasIconBefore icon-download" id="download-files">
Download files
</h1>
<ul>
<li><a href="https://github.com/gdquest-demos/godot-4-ranged-attacks/releases/download/1.0.1/godot-4-ranged-attacks.zip">Ranged attacks (ZIP)</a></li>
</ul>
<p>Import the zip file in Godot 4.5 or later to explore the code and see how everything works together. Feel free to modify the projectiles or create your own variants with different behaviors!</p>
<h1 class="hasIconBefore icon-patch" id="updates-code-patches">
Updates / Code patches
</h1>
<ul>
<li>This demo was originally made with Godot 3 and was updated to Godot 4.5</li>
<li>No errors have been reported. <a href="https://school.gdquest.com/about-us/contact?subject=Reporting%20an%20error%20in%20%22DOCUMENT_NAME%22">REPORT AN ERROR</a></li>
</ul></main><div class="shareWidget shareWidgetContainer"><div class="shareWidgetContent"><button class="clapsButton plausible-event-clap=true" title="Clap" aria-pressed="false" aria-live="polite"><span class="clapsButtonLabel"><span class="clapsButtonLabelTitle">Clap</span></span><span class="clapsButtonBubble">+1</span><span class="clapsButtonAmount"><span class="clapsButtonAmountAbbreviated" aria-hidden="true" hidden="true">0</span><span class="clapsButtonAmountTotal" aria-live="polite">0</span></span></button><span class="shareWidgetSeparator" aria-hidden="true"></span><button class="clipboardButton" data-is="clipboard-button" data-clipboard="currentURL" title="Copy url to Clipboard" aria-pressed="false" aria-live="polite"><span class="clipboardButtonLabel">Copy URL to clipboard</span><span data-is="clipboard-message" aria-hidden="true">Copied to clipboard!</span></button></div></div><div class="itemPageMeta"><section class="itemPageMetaLinks"><h4><span>Related links</span></h4><ul></ul></section><section class="promoGDSchool"><h5 class="promoGDSchoolTitle">Become an Indie Gamedev with GDQuest!<span class="promoGDSchoolTitleLogo"><span>in GDSchool</span></span></h5><div class="promoGDSchoolBody"><figure class="quoteBubble"><blockquote class="quoteBubbleContents"><p>Don't stop here. Step-by-step tutorials are fun but they only take you so far.</p><p><strong>Try one of our proven study programs to become an independent Gamedev truly capable of realizing the games you‚Äôve always wanted to make.</strong></p></blockquote><figcaption class="quoteBubbleAuthor"><h4 class="quoteBubbleAuthorName">Nathan</h4><h5 class="quoteBubbleAuthorTitle">Founder and teacher at GDQuest</h5></figcaption></figure><ul><li><a href="http://school.gdquest.com/products/bundle_godot_4_starter_kit"><img src="/library/thumbnail-bundle-godot-4-starter-kit.webp" alt="Starter Kit" loading="lazy"/></a></li><li><a href="http://school.gdquest.com/products/bundle_learn_gamedev_godot_4"><img src="/library/thumbnail-bundle-learn-gamedev-godot-4.webp" alt="Learn Gamedev from Zero" loading="lazy"/></a></li></ul><a href="https://school.gdquest.com" class="promoGDSchoolBodyHighlightLink">Check out GDSchool</a></div></section><section class="itemDiscordInvite"><h4>You're welcome in our little community</h4><p>Get help from peers and pros on GDQuest's Discord server!</p><span>20,000 members</span><a href="https://discord.gg/87NNb3Z">Join Server</a></section></div></section><div class="contributeBlockWrapper"><section class="contributeBlock" aria-roledescription="contribution links"><h1 id="contributeBlock" class="hasIconBefore icon-github">Contribute to GDQuest's Free Library</h1><p class="contributeBlockEmphasized">There are multiple ways you can join our effort to create free and open source gamedev resources that are accessible to everyone!</p><ul role="list"><li><p>Sponsor this library by learning gamedev with us on<a href="https://school.gdquest.com" class="gdschoolLogo"><span>GDSchool</span></a></p><a href="https://school.gdquest.com" class="contributeBlockFooterLink contributeBlockFooterLinkLearnMore"><span>Learn More</span></a></li><li><p>Improve and build on assets or suggest edits on<a href="https://github.com/gdquest" class="githubLogo"><span>Github</span></a></p><a href="https://github.com/gdquest" class="contributeBlockFooterLink contributeBlockFooterLinkContribute"><span>Contribute</span></a></li><li><p>share this page and talk about GDQUest on<a class="socialLink" href="https://reddit.com"><span>Reddit</span></a><a class="socialLink" href="https://youtube.com"><span>Youtube</span></a><a class="socialLink" href="https://twitter.com"><span>Twitter</span></a>‚Ä¶</p><button class="contributeBlockFooterLink contributeBlockFooterLinkShare" data-is="clipboard-button" data-clipboard="currentURL" title="Copy url to Clipboard" aria-pressed="false" aria-live="polite"><span >Share</span><span data-is="clipboard-message" aria-hidden="true">Copied to clipboard!</span></button></li></ul></section></div><footer class="mainPageFooter"><ul class="mainPageFooterWrapper" role="list"><li class="mainPageFooterSocials"><a href="#" class="mainPageFooterSocialsLogo gdquestLogo" aria-hidden="true"><span>GDQuest</span></a><p class="mainPageFooterSocialsBlurb">On GDQuest, we help you become a game developer using Godot, the free and open-source game engine</p><ul class="mainPageFooterSocialsLinks"><li><a href="https://twitter.com/NathanGDQuest" class="socialLink"><span>Follow us on Twitter</span></a></li><li><a href="https://www.youtube.com/c/gdquest" class="socialLink"><span>Follow us on YouTube</span></a></li><li><a href="https://discord.gg/87NNb3Z" class="socialLink"><span>Join us on Discord</span></a></li></ul></li><li class="mainPageFooterMailingList"><h3 class="mainPageFooterMailingListTitle">Get the latest from GDQuest</h3><form action="https://api.gdquest.com/1/newsletter" method="POST" data-is="mailingListCollector"><input type="hidden" name="callback" value="https://www.gdquest.com/library"/><input type="hidden" name="json" value="false"/><label aria-hidden="true" class="super-important-woah"><span>Your Name</span><input aria-hidden="true" tabIndex="-1" type="text" name="name" autocomplete="off"/></label><fieldset class="mailingListCollectorInput"><label for="mailingListCollector-signupFooter">Enter your email</label><input type="email" placeholder="Enter your email" name="email" value="" id="mailingListCollector-signupFooter"/><button><span>Subscribe</span></button></fieldset><div aria-live="polite" class="mailingListCollectorMessage"><span class="mailingListCollectorMessageSuccess message-success" hidden="true" aria-hidden="true">Our records show you're already subscribed</span><span class="mailingListCollectorMessageSuccess message-success" hidden="true" aria-hidden="true">Ok! Please click on the confirmation link in your email</span><span class="mailingListCollectorMessageError message-error" hidden="true" aria-hidden="true">An error occurred; please try again later</span></div></form><p class="mainPageFooterMailingListDisclaimer">By subscribing, you agree to receive the latest announcements, releases, and sales from GDQuest. Read our <a href="#">privacy policy</a></p></li><li class="mainPageFooterQuickLinks"><h3>Quick Links</h3><ul><li><a href="https://school.gdquest.com/courses/learn_2d_gamedev_godot_4/learn_gdscript/learn_gdscript_app">Learn to Code From Zero With Godot</a></li><li><a href="http./school.gdquest.com/products/bundle_godot_4_starter_kit">The Great Godot 4 Starter Kit</a></li><li><a href="http./school.gdquest.com/products/godot-4-early-access">See all</a></li></ul></li><li class="mainPageFooterAbout"><h3>About</h3><ul><li><a href="https://school.gdquest.com/about-us">Who are we?</a></li><li><a href="https://school.gdquest.com/about-us/terms-of-service">Terms of Service</a></li><li><a href="https://school.gdquest.com/about-us/privacy-policy">Privacy Policy</a></li><li><a href="https://school.gdquest.com/about-us/contact">Contact</a></li></ul></li></ul></footer><script src="/library/client.js" type="module"></script><!-- fec4a02cbad785cb6a0ec1189e1dde7e058621f0 Tue Oct 21 2025 02:01:25 GMT+0200 (Central European Summer Time) --></body>