<!doctype html><head><title>2D Laser in Godot 4 | GDQuest Library</title><meta charset="UTF-8"/><link rel="stylesheet" href="/library/style.css"/><script defer="true" data-domain="gdquest.com" src="https://plausible.io/js/script.outbound-links.tagged-events.js"></script><script >window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><script src="/library/head.js" type="module"></script><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="2D Laser in Godot 4 | GDQuest Library"/><meta name="twitter:title" content="2D Laser in Godot 4 | GDQuest Library"/><meta name="description" content="Learn how to create a dynamic 2D laser beam in Godot using raycasts, animated lines, and particle effects. Implement casting, collision, and beam particles to create a visually stunning laser effect."/><meta name="twitter:description" content="Learn how to create a dynamic 2D laser beam in Godot using raycasts, animated lines, and particle effects. Implement casting, collision, and beam particles to create a visually stunning laser effect."/><meta property="og:description" content="Learn how to create a dynamic 2D laser beam in Godot using raycasts, animated lines, and particle effects. Implement casting, collision, and beam particles to create a visually stunning laser effect."/><meta property="og:image" content="https://www.gdquest.com/library/laser_2d/cover-laser2d.png"/><meta name="twitter:image" content="https://www.gdquest.com/library/laser_2d/cover-laser2d.png"/><meta name="twitter:card" content="summary_large_image"/><meta property="og:type" content="website"/></head><body ><header class="mainNavContainer"><nav class="mainNavWrapper"><a href="/" class="mainNavLogo gdquestLogo"><span>GDQuest</span></a><button class="mainNavButtonToggle showWhenJSLoads" hidden="true" data-is="toggler-button" data-body-class="mainNavOpen" data-start-expanded="false" aria-expanded="true" aria-controls="main-nav-items" aria-hidden="true"><span class="mainNavButtonToggleBurger"><span></span><span></span></span><span class="mainNavButtonToggleLabel">menu</span></button><div id="main-nav-items" class="mainNavItemsListWrapper"><div class="mainNavItemsList"><a class="mainNavItem" href="/tutorial">Tutorials</a><a class="mainNavItem" href="/tools">tools</a><a class="mainNavItem" href="/product">Products</a><a class="mainNavItem" href="/about">About</a><a class="mainNavItem is-new" href="https://school.gdquest.com">Godot 4 courses</a><div class="mainNavSecondaryItems"><a href="https://school.gdquest.com/auth/login" class="mainNavSecondaryItemsButton loginButton"><span>login</span></a><button title="Press to toggle to dark mode" class="themeToggle mainNavSecondaryItemsButton themeToggleButton" data-is="theme-toggle"><span class="themeToggleLabel">Toggle Theme</span><span class="themeToggleIcons"><span class="themeToggleIconsIcon themeToggleIconsIconDark"><span>üåô</span></span><span class="themeToggleIconsIcon themeToggleIconsIconLight"><span>‚òÄÔ∏è</span></span></span></button></div></div></div></nav></header><div class="itemSummaryBrowserHero"><section class="itemSummaryBrowser"><div class="itemSummaryBrowserDisplay"><div class="itemSummaryBrowserDisplayLoading"></div><div class="itemSummaryCardWrapper"><article class="itemSummaryCard"><span class="itemSummaryCardBackground" aria-hidden="true"></span><h4 class="itemSummaryCardTitle"><a href=""></a></h4><h3 class="itemSummaryCardDate">2025/07/16</h3><img class="itemSummaryCardCover" src="https://www.gdquest.com/library/laser_2d/cover-laser2d-thumb.webp" width="500" srcset="https://www.gdquest.com/library/laser_2d/cover-laser2d-thumb.webp 320w, https://www.gdquest.com/library/laser_2d/cover-laser2d-sm.webp 640w, https://www.gdquest.com/library/laser_2d/cover-laser2d-md.webp 1280w, https://www.gdquest.com/library/laser_2d/cover-laser2d-lg.webp 1920w" sizes="(min-width: 1000px) 25vw, 70vw" alt=""/><dl class="itemSummaryCardAttributes"><div><dt>Type</dt><dd>Learning Resource</dd></div><div><dt>Format</dt><dd>Video</dd></div><div><dt>Version</dt><dd>Godot 4.x</dd></div><div><dt>Subject Tags</dt><dd class="itemSummaryCardAttributesTags"><ul><li><a>2D</a></li><li><a>Physics</a></li><li><a>VFX</a></li><li><a>All Genres</a></li></ul></dd></div></dl><ul class="itemSummaryCardFeatures" role="list"><li>Downloadable Demo</li><li>FAQ/Troubleshooting</li><li>Bonus</li></ul><dl class="itemSummaryCardLicenses"><div><dt class="itemSummaryCardLicensesCodeLabel">Code</dt><dd><ul role="list"><li><a href="https://www.tldrlegal.com/license/mit-license">MIT</a></li></ul></dd></div><div><dt class="itemSummaryCardLicensesAssetsLabel">Assets</dt><dd><ul role="list"><li><a href="https://www.tldrlegal.com/license/creative-commons-attribution-4-0-international-cc-by-4">CC By 4.0</a></li></ul></dd></div><div><dt class="itemSummaryCardLicensesAllElseLabel">All else</dt><dd>Copyright 2016<wbr></wbr>-<wbr></wbr>2025, GDQuest</dd></div></dl><dl class="itemSummaryCardDates"><dt>Created</dt><dl>2025/05/13</dl><dt>Updated</dt><dl>2025/07/16</dl></dl><button class="clapsButton plausible-event-clap=true" title="Clap" aria-pressed="false" aria-live="polite"><span class="clapsButtonLabel"><span class="clapsButtonLabelTitle">Clap</span></span><span class="clapsButtonBubble">+1</span><span class="clapsButtonAmount"><span class="clapsButtonAmountAbbreviated" aria-hidden="true" hidden="true">0</span><span class="clapsButtonAmountTotal" aria-live="polite">0</span></span></button></article></div></div></section></div><section class="contentPageGrid"><div class="tableOfContentsWrapper" id="tableOfContentsWrapper"><button class="tableOfContentsToggleButton showWhenJSLoads" aria-controls="tableOfContentsPane" data-is="toggler-button" aria-expanded="true" hidden="true"><span>Toggle Table of Contents</span></button><div class="tableOfContentsContainer" id="tableOfContentsContainer"><nav class="tableOfContentsPane" id="tableOfContentsPane"><ul data-is="article-toc" class="tableOfContentsMainList" role="list"><li class="tableOfContentsItemLevel1 tableOfContentsListItem hasSubheadings"><a href="#id-2d-laser-in-godot-4" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-app">2D laser in Godot 4</span></a><button aria-controls="hsub-id-2d-laser-in-godot-4" data-is="toggler-button" data-start-expanded="false" aria-expanded="true" class="tableOfContentsFoldUnfoldButton showWhenJSLoads" hidden="true"><span class="whenNotToggled">unfold subheadings</span><span class="whenToggled">fold subheadings</span></button><div id="hsub-id-2d-laser-in-godot-4" class="tableOfContentsSubheadingsContainer"><ul class="tableOfContentsSubheadingsList"><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#changing-the-lasers-look-and-feel-with-different-c" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Changing the laser's look and feel with different colors</span></a></li><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#keeping-the-color-consistent" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Keeping the color consistent</span></a></li><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#improving-the-laser-visuals-with-particle-effects" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Improving the laser visuals with particle effects</span></a></li><li class="tableOfContentsItemLevel2 tableOfContentsListItem"><a href="#beam-particles-breakdown" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH2"><span class="tableOfContentsAnchorTitle">Beam particles breakdown</span></a></li></ul></div></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#download-files" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-download">Download files</span></a></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#updates-code-patches" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-patch">Updates / Code patches</span></a></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#bonus" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-bonus">Bonus</span></a></li><li class="tableOfContentsItemLevel1 tableOfContentsListItem"><a href="#contributeBlock" class="tableOfContentsAnchor tableOfContentsAnchorLinkToH1"><span class="tableOfContentsAnchorTitle hasIconBefore icon-github">Contribute to the Library</span></a></li></ul></nav></div></div><main class="prose"><h1 class="hasIconBefore icon-app" id="id-2d-laser-in-godot-4">
2D laser in Godot 4
</h1>
<p>This video and guide explain how to create a laser beam in 2D using Godot. The laser is a raycast node that extends and retracts, with a line drawn on top of the invisible ray to visualize it.</p>
<div class="videoEmbed video-youtube"><iframe src="https://www.youtube-nocookie.com/embed/llGpvNWUvLY" title="Video" width="560" height="315" loading="lazy" referrerPolicy="strict-origin-when-cross-origin" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" allowFullscreen="true" frameBorder="0"></iframe></div>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="code fileCodeReference"><span class="fileCodeReferenceTitle"><span class="fileCodeReferenceTitlePrefix">Code Reference: </span><span data-is="file-in-text" data-file-only="true">res://laser_2d/laser_2d.gd</span></span></dt><dd><div><div class="fileCodeReferenceContent">
<p>Here is the complete code reference for the laser shown in the video, with just the raycast and the line. This is the foundation of the laser. The bulk of the logic is in the <code class="language-gdscript">set_is_casting()</code> and <code class="language-gdscript">_physics_process()</code> functions. The <code class="language-gdscript">appear()</code> and <code class="language-gdscript">disappear()</code> functions animate the laser's thickness with a tween.</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line">@<span class="token keyword">tool</span>
</span><span class="code-line"><span class="token keyword">extends</span> <span class="token class-name">RayCast2D</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">## Speed at which the laser extends when first fired, in pixels per second.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> cast_speed <span class="token operator">:=</span> <span class="token number">7000.0</span>
</span><span class="code-line"><span class="token comment">## Maximum length of the laser in pixels.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> max_length <span class="token operator">:=</span> <span class="token number">1400.0</span>
</span><span class="code-line"><span class="token comment">## Distance in pixels from the origin to start drawing and firing the laser.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> start_distance <span class="token operator">:=</span> <span class="token number">40.0</span>
</span><span class="code-line"><span class="token comment">## Base duration of the tween animation in seconds.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> growth_time <span class="token operator">:=</span> <span class="token number">0.1</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> color <span class="token operator">:=</span> Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">:</span> set <span class="token operator">=</span> set_color
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">## If `true`, the laser is firing.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> is_casting <span class="token operator">:=</span> <span class="token boolean">false</span><span class="token punctuation">:</span> set <span class="token operator">=</span> set_is_casting
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">var</span> tween<span class="token punctuation">:</span> <span class="token class-name">Tween</span> <span class="token operator">=</span> <span class="token keyword">null</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_2d<span class="token punctuation">:</span> <span class="token class-name">Line2D</span> <span class="token operator">=</span> <span class="token operator">%</span>Line2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_width <span class="token operator">:=</span> line_2d<span class="token punctuation">.</span>width
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token function">set_color</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token function">set_is_casting</span><span class="token punctuation">(</span>is_casting<span class="token punctuation">)</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">RIGHT</span> <span class="token operator">*</span> start_distance
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">ZERO</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> <span class="token keyword">not</span> Engine<span class="token punctuation">.</span><span class="token function">is_editor_hint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token function">set_physics_process</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_physics_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">:</span> <span class="token class-name">float</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	target_position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">move_toward</span><span class="token punctuation">(</span>
</span><span class="code-line">		target_position<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
</span><span class="code-line">		max_length<span class="token punctuation">,</span>
</span><span class="code-line">		cast_speed <span class="token operator">*</span> delta
</span><span class="code-line">	<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">var</span> laser_end_position <span class="token operator">:=</span> target_position
</span><span class="code-line">	<span class="token function">force_raycast_update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> <span class="token function">is_colliding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		laser_end_position <span class="token operator">=</span> <span class="token function">to_local</span><span class="token punctuation">(</span><span class="token function">get_collision_point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_end_position
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_is_casting</span><span class="token punctuation">(</span>new_value<span class="token punctuation">:</span> <span class="token class-name">bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token keyword">if</span> is_casting <span class="token operator">==</span> new_value<span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">	is_casting <span class="token operator">=</span> new_value
</span><span class="code-line">
</span><span class="code-line">	<span class="token function">set_physics_process</span><span class="token punctuation">(</span>is_casting<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> <span class="token keyword">not</span> line_2d<span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> is_casting<span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">var</span> laser_start <span class="token operator">:=</span> Vector2<span class="token punctuation">.</span><span class="token constant">RIGHT</span> <span class="token operator">*</span> start_distance
</span><span class="code-line">		line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_start
</span><span class="code-line">		line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_start
</span><span class="code-line">		<span class="token function">appear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">else</span><span class="token punctuation">:</span>
</span><span class="code-line">		target_position <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">ZERO</span>
</span><span class="code-line">		<span class="token function">disappear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">appear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span>
</span><span class="code-line">	<span class="token keyword">if</span> tween <span class="token keyword">and</span> tween<span class="token punctuation">.</span><span class="token function">is_running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		tween<span class="token punctuation">.</span><span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween <span class="token operator">=</span> <span class="token function">create_tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_property</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">,</span> <span class="token string">"width"</span><span class="token punctuation">,</span> line_width<span class="token punctuation">,</span> growth_time <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">disappear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token keyword">if</span> tween <span class="token keyword">and</span> tween<span class="token punctuation">.</span><span class="token function">is_running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		tween<span class="token punctuation">.</span><span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween <span class="token operator">=</span> <span class="token function">create_tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_property</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">,</span> <span class="token string">"width"</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> growth_time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">from_current</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_callback</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">.</span>hide<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_color</span><span class="token punctuation">(</span>new_color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	color <span class="token operator">=</span> new_color
</span><span class="code-line">	<span class="token keyword">if</span> line_2d <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span></code></pre>
</div></div></dd></dl>
<h2 id="changing-the-lasers-look-and-feel-with-different-c">Changing the laser's look and feel with different colors</h2>
<p>The <span class="iconGodotWrapper"><span class="iconGodot iconGodot-Line2D" aria-hidden="true"><span class="iconGodotLabel">Line2D</span></span>Line2D</span> node used for the laser has multiple features you can use to change its look. Most notably, you can assign a gradient to the <em>Gradient</em> property to add some shade or change the tint along the length of the beam. The gradient will be applied from the start to the end of the line.</p>
<p>If you use very bright colors, the engine's glow post-processing effect can pick up on them and give you a nice gradient within the glow.</p>
<p>Here are some color gradients to try:</p>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">Fiery sunbeam: red to bright yellow</dt><dd><div>
<img src="https://www.gdquest.com/library/laser_2d/images/laser_2d_sunbeam.png" alt="Screenshot of the laser with a red to yellow gradient">
</div></dd></dl>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">Blue flame: deep to light blue or cyan</dt><dd><div>
<img src="https://www.gdquest.com/library/laser_2d/images/laser_2d_blue_flame.png" alt="Screenshot of the laser with a blue gradient">
</div></dd></dl>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">Radioactive green: neon green to light green</dt><dd><div>
<img src="https://www.gdquest.com/library/laser_2d/images/laser_2d_radioactive_green.png" alt="Screenshot of the laser with a green gradient">
</div></dd></dl>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">Disco beam: light purple to neon pink</dt><dd><div>
<img src="https://www.gdquest.com/library/laser_2d/images/laser_2d_disco_beam.png" alt="Screenshot of the laser with a disco beam gradient">
</div></dd></dl>
<h2 id="keeping-the-color-consistent">Keeping the color consistent</h2>
<p>All three particle effects use a white color by default. I use the <code class="language-gdscript">modulate</code> property to make their color match the laser color. Here's the code that updates the color of all three particle systems and the laser line. It's part of the <span data-is="file-in-text" data-file-only="false"></span> script:</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> color <span class="token operator">:=</span> Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">:</span> set <span class="token operator">=</span> set_color
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_2d<span class="token punctuation">:</span> <span class="token class-name">Line2D</span> <span class="token operator">=</span> <span class="token operator">%</span>Line2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> casting_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>CastingParticles2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> collision_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>CollisionParticles2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> beam_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>BeamParticles2D
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token function">set_color</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_color</span><span class="token punctuation">(</span>new_color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	color <span class="token operator">=</span> new_color
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> line_2d <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	casting_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	collision_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span></code></pre>
<p>It uses:</p>
<ol>
<li>A property named <code class="language-gdscript">color</code> to store the color value</li>
<li>A setter function <code class="language-gdscript">set_color</code>, attached to the <code class="language-gdscript">color</code> property, to apply the color to the laser and all particle systems when changing the color</li>
</ol>
<p>Paired with the tool annotation, the code runs in the editor and allows us to preview the color change.</p>
<h2 id="improving-the-laser-visuals-with-particle-effects">Improving the laser visuals with particle effects</h2>
<p>The laser uses 3 particle systems to make the beam look appealing. They add energy and movement to what would otherwise be just a boring, static line:</p>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">This clip shows the complete laser with all three particle systems</dt><dd><div>
<div class="videoFile videoFileUseDefaultAspectRatio videoFileRounded"><video src="https://www.gdquest.com/library/laser_2d/videos/laser_2d.mp4" class="videoFileVideo" width="100" height="100" muted="true" loop="true" controls="true" playsInline="true" preload="metadata" data-should-preload="onmouseenter"><source data--src="https://www.gdquest.com/library/laser_2d/videos/laser_2d.mp4" type="video/mp4"/>Your browser does not support the video tag. <a href="https://www.gdquest.com/library/laser_2d/videos/laser_2d.mp4">Download the video instead</a></video><div class="videoFileButtonsContainer"><a class="videoFileButtonsContainerButtonNewTab" href="https://www.gdquest.com/library/laser_2d/videos/laser_2d.mp4" target="_blank" title="open in new tab"><span>open in new tab</span></a></div></div>
</div></dd></dl>
<ol>
<li>The <strong>casting particles</strong> emit from the base of the laser and sprawl out in a single direction. They are the first particles emitted when the laser fires.</li>
<li>The <strong>collision particles</strong> are a variation of the casting particles that emit where the laser hits something. They create a burst effect that looks like the laser is nibbling away at the target.</li>
<li>The <strong>beam particles</strong> spawn energy bits that radiate from the entire beam and softly fly away.</li>
</ol>
<p>All three particle systems have this in common:</p>
<ul>
<li>They use the same glowing circle texture</li>
<li>They are all relatively short-lived particles (0.3 to 0.6 seconds)</li>
<li>They are all white by default and use a color ramp to fade to transparent</li>
<li>They have no gravity applied in their <span class="iconGodotWrapper"><span class="iconGodot iconGodot-ParticleProcessMaterial" aria-hidden="true"><span class="iconGodotLabel">ParticleProcessMaterial</span></span>ParticleProcessMaterial</span></li>
<li>They use the <code class="language-gdscript">modulate</code> property to change their color based on the laser color</li>
</ul>
<p>As often with particles, it's mostly a few settings that really differentiate them. More on that below. But first, let's talk about how I use to keep the laser and the particle color in sync.</p>
<h3 id="casting-particles-breakdown">Casting particles breakdown</h3>
<p>The casting particles use spread and linear velocity to fire in a cone, paired with a relatively high emission amount. Here are the most notable properties I set on their process material:</p>
<ul>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Spread</span><wbr></wbr></span>: 45 degrees (to emit particles in a cone shape)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Initial Velocity</span><wbr></wbr></span>: 100 px/s (all particles travel at the same speed)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale</span><wbr></wbr></span>: Fixed at 0.5 for all particles</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale Curve</span><wbr></wbr></span>: I used a curve that keeps full size until halfway through the particles' lifetime, then shrinks to zero</li>
</ul>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">This clip shows the casting particles firing from the laser base, in isolation</dt><dd><div>
<div class="videoFile videoFileUseDefaultAspectRatio videoFileRounded"><video src="https://www.gdquest.com/library/laser_2d/videos/casting_particles.mp4" class="videoFileVideo" width="100" height="100" muted="true" loop="true" controls="true" playsInline="true" preload="metadata" data-should-preload="onmouseenter"><source data--src="https://www.gdquest.com/library/laser_2d/videos/casting_particles.mp4" type="video/mp4"/>Your browser does not support the video tag. <a href="https://www.gdquest.com/library/laser_2d/videos/casting_particles.mp4">Download the video instead</a></video><div class="videoFileButtonsContainer"><a class="videoFileButtonsContainerButtonNewTab" href="https://www.gdquest.com/library/laser_2d/videos/casting_particles.mp4" target="_blank" title="open in new tab"><span>open in new tab</span></a></div></div>
</div></dd></dl>
<h3 id="collision-particles-breakdown">Collision particles breakdown</h3>
<p>The collision particles burst out from the point where the laser hits something. They're similar to the casting particles, but have a few differences to distinguish them. Here are the most notable properties I set on them:</p>
<ul>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Spread</span><wbr></wbr></span>: 50 degrees (slightly wider cone than the casting particles)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Initial Velocity</span><wbr></wbr></span>: 300 px/s (faster than the casting particles to create a more visible impact)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale</span><wbr></wbr></span>: Fixed at 0.5</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale Curve</span><wbr></wbr></span>: I used the same curve as the casting particles to shrink the particles after halfway through their lifetime</li>
</ul>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">This clip shows the collision particles bursting at the collision point, next to an asteroid</dt><dd><div>
<div class="videoFile videoFileUseDefaultAspectRatio videoFileRounded"><video src="https://www.gdquest.com/library/laser_2d/videos/collision_particles.mp4" class="videoFileVideo" width="100" height="100" muted="true" loop="true" controls="true" playsInline="true" preload="metadata" data-should-preload="onmouseenter"><source data--src="https://www.gdquest.com/library/laser_2d/videos/collision_particles.mp4" type="video/mp4"/>Your browser does not support the video tag. <a href="https://www.gdquest.com/library/laser_2d/videos/collision_particles.mp4">Download the video instead</a></video><div class="videoFileButtonsContainer"><a class="videoFileButtonsContainerButtonNewTab" href="https://www.gdquest.com/library/laser_2d/videos/collision_particles.mp4" target="_blank" title="open in new tab"><span>open in new tab</span></a></div></div>
</div></dd></dl>
<h2 id="beam-particles-breakdown">Beam particles breakdown</h2>
<p>The beam particles emit along the entire length of the laser beam, creating the impression of energy radiating from it. They use a high emission amount, a box emission shape that resizes with the laser beam, and a lot of tangential acceleration to create a swirling effect.</p>
<p>Here are the most notable properties I set on their process material:</p>
<ul>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Emission Shape</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Shape</span><wbr></wbr></span>: I use a box emission shape and resize it dynamically to match the laser beam size. You can find the resizing code below</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Direction</span><wbr></wbr></span>: (-1, 0, 0) (it makes the particles move perpendicular to the beam)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst">Spawn</span><wbr></wbr><span class="settingsInTextSection">Velocity</span><wbr></wbr><span class="settingsInTextSection settingsInTextSectionLast">Tangential Acceleration</span><wbr></wbr></span>: 100 units (creates a swirling effect)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale</span><wbr></wbr></span>: 0.3 (these particles are a bit smaller than the casting and collision particles to be more subtle)</li>
<li><span class="settingsInText"><span class="settingsInTextSection settingsInTextSectionFirst settingsInTextSectionLast">Scale Curve</span><wbr></wbr></span>: I used a bell-shaped curve to grow then shrink particles during their lifetime</li>
</ul>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="info">This clip shows the beam particles flowing along the entire laser, in isolation</dt><dd><div>
<div class="videoFile videoFileUseDefaultAspectRatio videoFileRounded"><video src="https://www.gdquest.com/library/laser_2d/videos/beam_particles.mp4" class="videoFileVideo" width="100" height="100" muted="true" loop="true" controls="true" playsInline="true" preload="metadata" data-should-preload="onmouseenter"><source data--src="https://www.gdquest.com/library/laser_2d/videos/beam_particles.mp4" type="video/mp4"/>Your browser does not support the video tag. <a href="https://www.gdquest.com/library/laser_2d/videos/beam_particles.mp4">Download the video instead</a></video><div class="videoFileButtonsContainer"><a class="videoFileButtonsContainerButtonNewTab" href="https://www.gdquest.com/library/laser_2d/videos/beam_particles.mp4" target="_blank" title="open in new tab"><span>open in new tab</span></a></div></div>
</div></dd></dl>
<p>Here's the code that resizes the beam particles emission shape to match the laser beam size. It's part of the <span data-is="file-in-text" data-file-only="false"></span> script:</p>
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_2d<span class="token punctuation">:</span> <span class="token class-name">Line2D</span> <span class="token operator">=</span> <span class="token operator">%</span>Line2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> beam_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>BeamParticles2D
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_physics_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">:</span> <span class="token class-name">float</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token comment"># ...</span>
</span><span class="code-line">	<span class="token keyword">var</span> laser_start_position <span class="token operator">:=</span> line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>position <span class="token operator">=</span> laser_start_position <span class="token operator">+</span> <span class="token punctuation">(</span>laser_end_position <span class="token operator">-</span> laser_start_position<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span>
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>process_material<span class="token punctuation">.</span>emission_box_extents<span class="token punctuation">.</span>x <span class="token operator">=</span> laser_end_position<span class="token punctuation">.</span><span class="token function">distance_to</span><span class="token punctuation">(</span>laser_start_position<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span>
</span></code></pre>
<p>Below you can find the complete laser code reference with the added particle effects. You can also download the project files to see the laser in action or modify it.</p>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="code fileCodeReference"><span class="fileCodeReferenceTitle"><span class="fileCodeReferenceTitlePrefix">Code Reference: </span><span data-is="file-in-text" data-file-only="true">res://laser_2d/laser_2d.gd</span></span></dt><dd><div><div class="fileCodeReferenceContent">
<pre class="language-gdscript"><code class="language-gdscript code-highlight"><span class="code-line">@<span class="token keyword">tool</span>
</span><span class="code-line"><span class="token keyword">extends</span> <span class="token class-name">RayCast2D</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">## Speed at which the laser extends when first fired, in pixels per seconds.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> cast_speed <span class="token operator">:=</span> <span class="token number">7000.0</span>
</span><span class="code-line"><span class="token comment">## Maximum length of the laser in pixels.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> max_length <span class="token operator">:=</span> <span class="token number">1400.0</span>
</span><span class="code-line"><span class="token comment">## Distance in pixels from the origin to start drawing and firing the laser.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> start_distance <span class="token operator">:=</span> <span class="token number">40.0</span>
</span><span class="code-line"><span class="token comment">## Base duration of the tween animation in seconds.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> growth_time <span class="token operator">:=</span> <span class="token number">0.1</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> color <span class="token operator">:=</span> Color<span class="token punctuation">.</span><span class="token constant">WHITE</span><span class="token punctuation">:</span> set <span class="token operator">=</span> set_color
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">## If `true`, the laser is firing.</span>
</span><span class="code-line"><span class="token comment">## It plays appearing and disappearing animations when it's not animating.</span>
</span><span class="code-line"><span class="token comment">## See `appear()` and `disappear()` for more information.</span>
</span><span class="code-line">@<span class="token keyword">export</span> <span class="token keyword">var</span> is_casting <span class="token operator">:=</span> <span class="token boolean">false</span><span class="token punctuation">:</span> set <span class="token operator">=</span> set_is_casting
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">var</span> tween<span class="token punctuation">:</span> <span class="token class-name">Tween</span> <span class="token operator">=</span> <span class="token keyword">null</span>
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_2d<span class="token punctuation">:</span> <span class="token class-name">Line2D</span> <span class="token operator">=</span> <span class="token operator">%</span>Line2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> casting_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>CastingParticles2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> collision_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>CollisionParticles2D
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> beam_particles<span class="token punctuation">:</span> <span class="token class-name">GPUParticles2D</span> <span class="token operator">=</span> <span class="token operator">%</span>BeamParticles2D
</span><span class="code-line">
</span><span class="code-line">@<span class="token keyword">onready</span> <span class="token keyword">var</span> line_width <span class="token operator">:=</span> line_2d<span class="token punctuation">.</span>width
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token function">set_color</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token function">set_is_casting</span><span class="token punctuation">(</span>is_casting<span class="token punctuation">)</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">RIGHT</span> <span class="token operator">*</span> start_distance
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">ZERO</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">false</span>
</span><span class="code-line">	casting_particles<span class="token punctuation">.</span>position <span class="token operator">=</span> line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> <span class="token keyword">not</span> Engine<span class="token punctuation">.</span><span class="token function">is_editor_hint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token function">set_physics_process</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">_physics_process</span><span class="token punctuation">(</span>delta<span class="token punctuation">:</span> <span class="token class-name">float</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	target_position<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">move_toward</span><span class="token punctuation">(</span>
</span><span class="code-line">		target_position<span class="token punctuation">.</span>x<span class="token punctuation">,</span>
</span><span class="code-line">		max_length<span class="token punctuation">,</span>
</span><span class="code-line">		cast_speed <span class="token operator">*</span> delta
</span><span class="code-line">	<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">var</span> laser_end_position <span class="token operator">:=</span> target_position
</span><span class="code-line">	<span class="token function">force_raycast_update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> <span class="token function">is_colliding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		laser_end_position <span class="token operator">=</span> <span class="token function">to_local</span><span class="token punctuation">(</span><span class="token function">get_collision_point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">		collision_particles<span class="token punctuation">.</span>global_rotation <span class="token operator">=</span> <span class="token function">get_collision_normal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">angle</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">		collision_particles<span class="token punctuation">.</span>position <span class="token operator">=</span> laser_end_position
</span><span class="code-line">
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_end_position
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">var</span> laser_start_position <span class="token operator">:=</span> line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>position <span class="token operator">=</span> laser_start_position <span class="token operator">+</span> <span class="token punctuation">(</span>laser_end_position <span class="token operator">-</span> laser_start_position<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span>
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>process_material<span class="token punctuation">.</span>emission_box_extents<span class="token punctuation">.</span>x <span class="token operator">=</span> laser_end_position<span class="token punctuation">.</span><span class="token function">distance_to</span><span class="token punctuation">(</span>laser_start_position<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.5</span>
</span><span class="code-line">
</span><span class="code-line">	collision_particles<span class="token punctuation">.</span>emitting <span class="token operator">=</span> <span class="token function">is_colliding</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_is_casting</span><span class="token punctuation">(</span>new_value<span class="token punctuation">:</span> <span class="token class-name">bool</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token keyword">if</span> is_casting <span class="token operator">==</span> new_value<span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">	is_casting <span class="token operator">=</span> new_value
</span><span class="code-line">	<span class="token function">set_physics_process</span><span class="token punctuation">(</span>is_casting<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> beam_particles <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>emitting <span class="token operator">=</span> is_casting
</span><span class="code-line">	casting_particles<span class="token punctuation">.</span>emitting <span class="token operator">=</span> is_casting
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> is_casting<span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">var</span> laser_start <span class="token operator">:=</span> Vector2<span class="token punctuation">.</span><span class="token constant">RIGHT</span> <span class="token operator">*</span> start_distance
</span><span class="code-line">		line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_start
</span><span class="code-line">		line_2d<span class="token punctuation">.</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> laser_start
</span><span class="code-line">		casting_particles<span class="token punctuation">.</span>position <span class="token operator">=</span> laser_start
</span><span class="code-line">
</span><span class="code-line">		<span class="token function">appear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	<span class="token keyword">else</span><span class="token punctuation">:</span>
</span><span class="code-line">		target_position <span class="token operator">=</span> Vector2<span class="token punctuation">.</span><span class="token constant">ZERO</span>
</span><span class="code-line">		collision_particles<span class="token punctuation">.</span>emitting <span class="token operator">=</span> <span class="token boolean">false</span>
</span><span class="code-line">		<span class="token function">disappear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">appear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>visible <span class="token operator">=</span> <span class="token boolean">true</span>
</span><span class="code-line">	<span class="token keyword">if</span> tween <span class="token keyword">and</span> tween<span class="token punctuation">.</span><span class="token function">is_running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		tween<span class="token punctuation">.</span><span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween <span class="token operator">=</span> <span class="token function">create_tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_property</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">,</span> <span class="token string">"width"</span><span class="token punctuation">,</span> line_width<span class="token punctuation">,</span> growth_time <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">disappear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	<span class="token keyword">if</span> tween <span class="token keyword">and</span> tween<span class="token punctuation">.</span><span class="token function">is_running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</span><span class="code-line">		tween<span class="token punctuation">.</span><span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween <span class="token operator">=</span> <span class="token function">create_tween</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_property</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">,</span> <span class="token string">"width"</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> growth_time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">from_current</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">	tween<span class="token punctuation">.</span><span class="token function">tween_callback</span><span class="token punctuation">(</span>line_2d<span class="token punctuation">.</span>hide<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">func</span> <span class="token function">set_color</span><span class="token punctuation">(</span>new_color<span class="token punctuation">:</span> <span class="token class-name">Color</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">void</span><span class="token punctuation">:</span>
</span><span class="code-line">	color <span class="token operator">=</span> new_color
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">if</span> line_2d <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
</span><span class="code-line">		<span class="token keyword">return</span>
</span><span class="code-line">
</span><span class="code-line">	line_2d<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	casting_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	collision_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span><span class="code-line">	beam_particles<span class="token punctuation">.</span>modulate <span class="token operator">=</span> new_color
</span></code></pre>
</div></div></dd></dl>
<h1 class="hasIconBefore icon-download" id="download-files">
Download files
</h1>
<ul>
<li><a href="https://github.com/gdquest-demos/godot_2d_and_3d_lasers/releases/download/1.0.0/godot_4_laser_2d.zip">2D laser Godot project files</a></li>
</ul>
<h1 class="hasIconBefore icon-patch" id="updates-code-patches">
Updates / Code patches
</h1>
<ul>
<li>This learning resource was created with Godot 4.4</li>
<li>No errors have been reported. <a href="https://school.gdquest.com/about-us/contact?subject=Reporting%20an%20error%20in%20%22laser_2d%22">REPORT AN ERROR</a></li>
</ul>
<h1 class="hasIconBefore icon-bonus" id="bonus">
Bonus
</h1>
<dl class="calloutsList" data-is="collapsible-list"><dt data-open="false" class="question">How do you make the laser glow?</dt><dd><div>
<p>To make the laser glow, I'm using the engine's built-in glow environment effect. The scene has a world environment node with the glow post-processing effect turned on. This effect blankets the entire screen and makes any pixel above a certain brightness threshold glow.</p>
<p>By setting the laser to a very bright value, it triggers the glow effect.</p>
<p>When using this post processing effect, be careful that other assets in the game are not as bright or they will glow.</p>
<p>If your game uses the Vulkan rendering engine, you can also turn on the HDR 2D project setting to allow picking very bright colors.</p>
</div></dd></dl></main><div class="shareWidget shareWidgetContainer"><div class="shareWidgetContent"><button class="clapsButton plausible-event-clap=true" title="Clap" aria-pressed="false" aria-live="polite"><span class="clapsButtonLabel"><span class="clapsButtonLabelTitle">Clap</span></span><span class="clapsButtonBubble">+1</span><span class="clapsButtonAmount"><span class="clapsButtonAmountAbbreviated" aria-hidden="true" hidden="true">0</span><span class="clapsButtonAmountTotal" aria-live="polite">0</span></span></button><span class="shareWidgetSeparator" aria-hidden="true"></span><button class="clipboardButton" data-is="clipboard-button" data-clipboard="currentURL" title="Copy url to Clipboard" aria-pressed="false" aria-live="polite"><span class="clipboardButtonLabel">Copy URL to clipboard</span><span data-is="clipboard-message" aria-hidden="true">Copied to clipboard!</span></button></div></div><div class="itemPageMeta"><section class="itemPageMetaLinks"><h4><span>Related links</span></h4><ul><li><h5 class="itemPageMetaLinksTitle">In the library</h5><ul><li><a href="/library/raycast_introduction">Understanding raycasts in Godot</a></li></ul></li><li><h5 class="itemPageMetaLinksTitle">In GDSchool</h5><ul><li><ol><li><a class="itemPageMetaCourseRefLessonLink" href="https://school.gdquest.com/courses/learn_2d_gamedev_godot_4/top_down_movement/your_first_raycast"><em>M9.L14: </em>Your first raycast</a></li><li><a class="itemPageMetaCourseRefModuleLink" href="https://school.gdquest.com/courses/learn_2d_gamedev_godot_4/top_down_movement">Top Down Movement</a></li><li><a class="itemPageMetaCourseRefCourseLink" href="https://school.gdquest.com/courses/learn_2d_gamedev_godot_4/">Learn 2D Gamedev From Zero With Godot 4</a></li></ol></li></ul></li></ul></section><section class="promoGDSchool"><h5 class="promoGDSchoolTitle">Become an Indie Gamedev with GDQuest!<span class="promoGDSchoolTitleLogo"><span>in GDSchool</span></span></h5><div class="promoGDSchoolBody"><figure class="quoteBubble"><blockquote class="quoteBubbleContents"><p>Don't stop here. Step-by-step tutorials are fun but they only take you so far.</p><p><strong>Try one of our proven study programs to become an independent Gamedev truly capable of realizing the games you‚Äôve always wanted to make.</strong></p></blockquote><figcaption class="quoteBubbleAuthor"><h4 class="quoteBubbleAuthorName">Nathan</h4><h5 class="quoteBubbleAuthorTitle">Founder and teacher at GDQuest</h5></figcaption></figure><ul><li><a href="http://school.gdquest.com/products/bundle_godot_4_starter_kit"><img src="/library/thumbnail-bundle-godot-4-starter-kit.webp" alt="Starter Kit" loading="lazy"/></a></li><li><a href="http://school.gdquest.com/products/bundle_learn_gamedev_godot_4"><img src="/library/thumbnail-bundle-learn-gamedev-godot-4.webp" alt="Learn Gamedev from Zero" loading="lazy"/></a></li></ul><a href="https://school.gdquest.com" class="promoGDSchoolBodyHighlightLink">Check out GDSchool</a></div></section><section class="itemDiscordInvite"><h4>You're welcome in our little community</h4><p>Get help from peers and pros on GDQuest's Discord server!</p><span>20,000 members</span><a href="https://discord.gg/87NNb3Z">Join Server</a></section></div></section><div class="contributeBlockWrapper"><section class="contributeBlock" aria-roledescription="contribution links"><h1 id="contributeBlock" class="hasIconBefore icon-github">Contribute to GDQuest's Free Library</h1><p class="contributeBlockEmphasized">There are multiple ways you can join our effort to create free and open source gamedev resources that are accessible to everyone!</p><ul role="list"><li><p>Sponsor this library by learning gamedev with us on<a href="https://school.gdquest.com" class="gdschoolLogo"><span>GDSchool</span></a></p><a href="https://school.gdquest.com" class="contributeBlockFooterLink contributeBlockFooterLinkLearnMore"><span>Learn More</span></a></li><li><p>Improve and build on assets or suggest edits on<a href="https://github.com/gdquest" class="githubLogo"><span>Github</span></a></p><a href="https://github.com/gdquest" class="contributeBlockFooterLink contributeBlockFooterLinkContribute"><span>Contribute</span></a></li><li><p>share this page and talk about GDQUest on<a class="socialLink" href="https://reddit.com"><span>Reddit</span></a><a class="socialLink" href="https://youtube.com"><span>Youtube</span></a><a class="socialLink" href="https://twitter.com"><span>Twitter</span></a>‚Ä¶</p><button class="contributeBlockFooterLink contributeBlockFooterLinkShare" data-is="clipboard-button" data-clipboard="currentURL" title="Copy url to Clipboard" aria-pressed="false" aria-live="polite"><span >Share</span><span data-is="clipboard-message" aria-hidden="true">Copied to clipboard!</span></button></li></ul></section></div><footer class="mainPageFooter"><ul class="mainPageFooterWrapper" role="list"><li class="mainPageFooterSocials"><a href="#" class="mainPageFooterSocialsLogo gdquestLogo" aria-hidden="true"><span>GDQuest</span></a><p class="mainPageFooterSocialsBlurb">On GDQuest, we help you become a game developer using Godot, the free and open-source game engine</p><ul class="mainPageFooterSocialsLinks"><li><a href="https://twitter.com/NathanGDQuest" class="socialLink"><span>Follow us on Twitter</span></a></li><li><a href="https://www.youtube.com/c/gdquest" class="socialLink"><span>Follow us on YouTube</span></a></li><li><a href="https://discord.gg/87NNb3Z" class="socialLink"><span>Join us on Discord</span></a></li></ul></li><li class="mainPageFooterMailingList"><h3 class="mainPageFooterMailingListTitle">Get the latest from GDQuest</h3><form action="https://api.gdquest.com/1/newsletter" method="POST" data-is="mailingListCollector"><input type="hidden" name="callback" value="https://www.gdquest.com/library"/><input type="hidden" name="json" value="false"/><label aria-hidden="true" class="super-important-woah"><span>Your Name</span><input aria-hidden="true" tabIndex="-1" type="text" name="name" autocomplete="off"/></label><fieldset class="mailingListCollectorInput"><label for="mailingListCollector-signupFooter">Enter your email</label><input type="email" placeholder="Enter your email" name="email" value="" id="mailingListCollector-signupFooter"/><button><span>Subscribe</span></button></fieldset><div aria-live="polite" class="mailingListCollectorMessage"><span class="mailingListCollectorMessageSuccess message-success" hidden="true" aria-hidden="true">Our records show you're already subscribed</span><span class="mailingListCollectorMessageSuccess message-success" hidden="true" aria-hidden="true">Ok! Please click on the confirmation link in your email</span><span class="mailingListCollectorMessageError message-error" hidden="true" aria-hidden="true">An error occurred; please try again later</span></div></form><p class="mainPageFooterMailingListDisclaimer">By subscribing, you agree to receive the latest announcements, releases, and sales from GDQuest. Read our <a href="#">privacy policy</a></p></li><li class="mainPageFooterQuickLinks"><h3>Quick Links</h3><ul><li><a href="https://school.gdquest.com/courses/learn_2d_gamedev_godot_4/learn_gdscript/learn_gdscript_app">Learn to Code From Zero With Godot</a></li><li><a href="http./school.gdquest.com/products/bundle_godot_4_starter_kit">The Great Godot 4 Starter Kit</a></li><li><a href="http./school.gdquest.com/products/godot-4-early-access">See all</a></li></ul></li><li class="mainPageFooterAbout"><h3>About</h3><ul><li><a href="https://school.gdquest.com/about-us">Who are we?</a></li><li><a href="https://school.gdquest.com/about-us/terms-of-service">Terms of Service</a></li><li><a href="https://school.gdquest.com/about-us/privacy-policy">Privacy Policy</a></li><li><a href="https://school.gdquest.com/about-us/contact">Contact</a></li></ul></li></ul></footer><script src="/library/client.js" type="module"></script><!-- a194e64e7f2f79f89551ed6b34a17843cf871b7f Wed Jul 16 2025 11:05:27 GMT+0200 (Central European Summer Time) --></body>